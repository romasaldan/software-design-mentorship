/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/css-loader/dist/cjs.js!./src/index.css":
/*!*************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/index.css ***!
  \*************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "table {\r\n    margin: 25px 0px 10px 0px;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    border-collapse: collapse;\r\n    width: 500px;\r\n}\r\n\r\ntable td,\r\ntable th {\r\n    border: 1px solid #ddd;\r\n    padding: 8px;\r\n}\r\n\r\ntable tr:nth-child(even) {\r\n    background-color: #f2f2f2;\r\n}\r\n\r\ntable tr:hover {\r\n    background-color: #ddd;\r\n}\r\n\r\ntable th {\r\n    padding-top: 12px;\r\n    padding-bottom: 12px;\r\n    text-align: left;\r\n    background-color: #04aa6d;\r\n    color: white;\r\n}\r\n\r\nbutton {\r\n    background-color: #4caf50;\r\n    border: none;\r\n    color: white;\r\n    padding: 15px 32px;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    display: inline-block;\r\n    font-size: 16px;\r\n    margin: 4px 2px;\r\n}\r\n\r\nbutton:hover {\r\n    cursor: pointer;\r\n}\r\n\r\ninput[type='text'],\r\nselect {\r\n    width: 100%;\r\n    padding: 12px 20px;\r\n    margin: 8px 0;\r\n    display: inline-block;\r\n    border: 1px solid #ccc;\r\n    border-radius: 4px;\r\n    box-sizing: border-box;\r\n}\r\n\r\ninput[type='number'] {\r\n    width: 100%;\r\n    padding: 14px 20px;\r\n    margin: 8px 0;\r\n    border: none;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n}\r\n\r\ndiv {\r\n    border-radius: 5px;\r\n    background-color: #f2f2f2;\r\n}\r\n\r\nbody {\r\n    background-color: #f2f2f2;\r\n}\r\n", "",{"version":3,"sources":["webpack://./src/index.css"],"names":[],"mappings":"AAAA;IACI,yBAAyB;IACzB,yCAAyC;IACzC,yBAAyB;IACzB,YAAY;AAChB;;AAEA;;IAEI,sBAAsB;IACtB,YAAY;AAChB;;AAEA;IACI,yBAAyB;AAC7B;;AAEA;IACI,sBAAsB;AAC1B;;AAEA;IACI,iBAAiB;IACjB,oBAAoB;IACpB,gBAAgB;IAChB,yBAAyB;IACzB,YAAY;AAChB;;AAEA;IACI,yBAAyB;IACzB,YAAY;IACZ,YAAY;IACZ,kBAAkB;IAClB,kBAAkB;IAClB,qBAAqB;IACrB,qBAAqB;IACrB,eAAe;IACf,eAAe;AACnB;;AAEA;IACI,eAAe;AACnB;;AAEA;;IAEI,WAAW;IACX,kBAAkB;IAClB,aAAa;IACb,qBAAqB;IACrB,sBAAsB;IACtB,kBAAkB;IAClB,sBAAsB;AAC1B;;AAEA;IACI,WAAW;IACX,kBAAkB;IAClB,aAAa;IACb,YAAY;IACZ,kBAAkB;IAClB,eAAe;AACnB;;AAEA;IACI,kBAAkB;IAClB,yBAAyB;AAC7B;;AAEA;IACI,yBAAyB;AAC7B","sourcesContent":["table {\r\n    margin: 25px 0px 10px 0px;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    border-collapse: collapse;\r\n    width: 500px;\r\n}\r\n\r\ntable td,\r\ntable th {\r\n    border: 1px solid #ddd;\r\n    padding: 8px;\r\n}\r\n\r\ntable tr:nth-child(even) {\r\n    background-color: #f2f2f2;\r\n}\r\n\r\ntable tr:hover {\r\n    background-color: #ddd;\r\n}\r\n\r\ntable th {\r\n    padding-top: 12px;\r\n    padding-bottom: 12px;\r\n    text-align: left;\r\n    background-color: #04aa6d;\r\n    color: white;\r\n}\r\n\r\nbutton {\r\n    background-color: #4caf50;\r\n    border: none;\r\n    color: white;\r\n    padding: 15px 32px;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    display: inline-block;\r\n    font-size: 16px;\r\n    margin: 4px 2px;\r\n}\r\n\r\nbutton:hover {\r\n    cursor: pointer;\r\n}\r\n\r\ninput[type='text'],\r\nselect {\r\n    width: 100%;\r\n    padding: 12px 20px;\r\n    margin: 8px 0;\r\n    display: inline-block;\r\n    border: 1px solid #ccc;\r\n    border-radius: 4px;\r\n    box-sizing: border-box;\r\n}\r\n\r\ninput[type='number'] {\r\n    width: 100%;\r\n    padding: 14px 20px;\r\n    margin: 8px 0;\r\n    border: none;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n}\r\n\r\ndiv {\r\n    border-radius: 5px;\r\n    background-color: #f2f2f2;\r\n}\r\n\r\nbody {\r\n    background-color: #f2f2f2;\r\n}\r\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {



/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
// eslint-disable-next-line func-names
module.exports = function (cssWithMappingToString) {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    return this.map(function (item) {
      var content = cssWithMappingToString(item);

      if (item[2]) {
        return "@media ".concat(item[2], " {").concat(content, "}");
      }

      return content;
    }).join("");
  }; // import a list of modules into the list
  // eslint-disable-next-line func-names


  list.i = function (modules, mediaQuery, dedupe) {
    if (typeof modules === "string") {
      // eslint-disable-next-line no-param-reassign
      modules = [[null, modules, ""]];
    }

    var alreadyImportedModules = {};

    if (dedupe) {
      for (var i = 0; i < this.length; i++) {
        // eslint-disable-next-line prefer-destructuring
        var id = this[i][0];

        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }

    for (var _i = 0; _i < modules.length; _i++) {
      var item = [].concat(modules[_i]);

      if (dedupe && alreadyImportedModules[item[0]]) {
        // eslint-disable-next-line no-continue
        continue;
      }

      if (mediaQuery) {
        if (!item[2]) {
          item[2] = mediaQuery;
        } else {
          item[2] = "".concat(mediaQuery, " and ").concat(item[2]);
        }
      }

      list.push(item);
    }
  };

  return list;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js":
/*!************************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/cssWithMappingToString.js ***!
  \************************************************************************/
/***/ ((module) => {



function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr && (typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]); if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

module.exports = function cssWithMappingToString(item) {
  var _item = _slicedToArray(item, 4),
      content = _item[1],
      cssMapping = _item[3];

  if (typeof btoa === "function") {
    // eslint-disable-next-line no-undef
    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));
    var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
    var sourceMapping = "/*# ".concat(data, " */");
    var sourceURLs = cssMapping.sources.map(function (source) {
      return "/*# sourceURL=".concat(cssMapping.sourceRoot || "").concat(source, " */");
    });
    return [content].concat(sourceURLs).concat([sourceMapping]).join("\n");
  }

  return [content].join("\n");
};

/***/ }),

/***/ "./src/index.css":
/*!***********************!*\
  !*** ./src/index.css ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !!../node_modules/css-loader/dist/cjs.js!./index.css */ "./node_modules/css-loader/dist/cjs.js!./src/index.css");

            

var options = {};

options.insert = "head";
options.singleton = false;

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_1__.default, options);



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_1__.default.locals || {});

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {



var isOldIE = function isOldIE() {
  var memo;
  return function memorize() {
    if (typeof memo === 'undefined') {
      // Test for IE <= 9 as proposed by Browserhacks
      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
      // Tests for existence of standard globals is to allow style-loader
      // to operate correctly into non-standard environments
      // @see https://github.com/webpack-contrib/style-loader/issues/177
      memo = Boolean(window && document && document.all && !window.atob);
    }

    return memo;
  };
}();

var getTarget = function getTarget() {
  var memo = {};
  return function memorize(target) {
    if (typeof memo[target] === 'undefined') {
      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself

      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
        try {
          // This will throw an exception if access to iframe is blocked
          // due to cross-origin restrictions
          styleTarget = styleTarget.contentDocument.head;
        } catch (e) {
          // istanbul ignore next
          styleTarget = null;
        }
      }

      memo[target] = styleTarget;
    }

    return memo[target];
  };
}();

var stylesInDom = [];

function getIndexByIdentifier(identifier) {
  var result = -1;

  for (var i = 0; i < stylesInDom.length; i++) {
    if (stylesInDom[i].identifier === identifier) {
      result = i;
      break;
    }
  }

  return result;
}

function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];

  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var index = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3]
    };

    if (index !== -1) {
      stylesInDom[index].references++;
      stylesInDom[index].updater(obj);
    } else {
      stylesInDom.push({
        identifier: identifier,
        updater: addStyle(obj, options),
        references: 1
      });
    }

    identifiers.push(identifier);
  }

  return identifiers;
}

function insertStyleElement(options) {
  var style = document.createElement('style');
  var attributes = options.attributes || {};

  if (typeof attributes.nonce === 'undefined') {
    var nonce =  true ? __webpack_require__.nc : 0;

    if (nonce) {
      attributes.nonce = nonce;
    }
  }

  Object.keys(attributes).forEach(function (key) {
    style.setAttribute(key, attributes[key]);
  });

  if (typeof options.insert === 'function') {
    options.insert(style);
  } else {
    var target = getTarget(options.insert || 'head');

    if (!target) {
      throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
    }

    target.appendChild(style);
  }

  return style;
}

function removeStyleElement(style) {
  // istanbul ignore if
  if (style.parentNode === null) {
    return false;
  }

  style.parentNode.removeChild(style);
}
/* istanbul ignore next  */


var replaceText = function replaceText() {
  var textStore = [];
  return function replace(index, replacement) {
    textStore[index] = replacement;
    return textStore.filter(Boolean).join('\n');
  };
}();

function applyToSingletonTag(style, index, remove, obj) {
  var css = remove ? '' : obj.media ? "@media ".concat(obj.media, " {").concat(obj.css, "}") : obj.css; // For old IE

  /* istanbul ignore if  */

  if (style.styleSheet) {
    style.styleSheet.cssText = replaceText(index, css);
  } else {
    var cssNode = document.createTextNode(css);
    var childNodes = style.childNodes;

    if (childNodes[index]) {
      style.removeChild(childNodes[index]);
    }

    if (childNodes.length) {
      style.insertBefore(cssNode, childNodes[index]);
    } else {
      style.appendChild(cssNode);
    }
  }
}

function applyToTag(style, options, obj) {
  var css = obj.css;
  var media = obj.media;
  var sourceMap = obj.sourceMap;

  if (media) {
    style.setAttribute('media', media);
  } else {
    style.removeAttribute('media');
  }

  if (sourceMap && typeof btoa !== 'undefined') {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  } // For old IE

  /* istanbul ignore if  */


  if (style.styleSheet) {
    style.styleSheet.cssText = css;
  } else {
    while (style.firstChild) {
      style.removeChild(style.firstChild);
    }

    style.appendChild(document.createTextNode(css));
  }
}

var singleton = null;
var singletonCounter = 0;

function addStyle(obj, options) {
  var style;
  var update;
  var remove;

  if (options.singleton) {
    var styleIndex = singletonCounter++;
    style = singleton || (singleton = insertStyleElement(options));
    update = applyToSingletonTag.bind(null, style, styleIndex, false);
    remove = applyToSingletonTag.bind(null, style, styleIndex, true);
  } else {
    style = insertStyleElement(options);
    update = applyToTag.bind(null, style, options);

    remove = function remove() {
      removeStyleElement(style);
    };
  }

  update(obj);
  return function updateStyle(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {
        return;
      }

      update(obj = newObj);
    } else {
      remove();
    }
  };
}

module.exports = function (list, options) {
  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
  // tags it will allow on a page

  if (!options.singleton && typeof options.singleton !== 'boolean') {
    options.singleton = isOldIE();
  }

  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];

    if (Object.prototype.toString.call(newList) !== '[object Array]') {
      return;
    }

    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDom[index].references--;
    }

    var newLastIdentifiers = modulesToDom(newList, options);

    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];

      var _index = getIndexByIdentifier(_identifier);

      if (stylesInDom[_index].references === 0) {
        stylesInDom[_index].updater();

        stylesInDom.splice(_index, 1);
      }
    }

    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ "./src/components/ElementsList.ts":
/*!****************************************!*\
  !*** ./src/components/ElementsList.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __read = (this && this.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spreadArray = (this && this.__spreadArray) || function (to, from) {
    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
        to[j] = from[i];
    return to;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ElementsList = exports.extractNames = void 0;
var PubSub_1 = __webpack_require__(/*! ../utils/PubSub */ "./src/utils/PubSub.ts");
var extractNames = function (items) {
    return __spreadArray([], __read(new Set(__spreadArray(__spreadArray([], __read(items.map(function (item) { return item.to; }))), __read(items.map(function (item) { return item.from; })))))).sort();
};
exports.extractNames = extractNames;
var getTableRow = function (item) { return "\n    <tr>\n        <td>" + item.from + "</td>\n        <td>" + item.to + "</td>\n        <td>" + item.weight + "</td>\n    </tr>\n"; };
var getComboboxRow = function (items) { return "\n    <div style=\"width: 500px\">\n        <label>\u041E\u0431\u0447\u0438\u0441\u043B\u0438\u0438 \u043D\u0430\u0439\u043A\u043E\u0440\u043E\u0442\u0448\u0456 \u0432\u0456\u0434\u0441\u0442\u0430\u043D\u0456 \u0434\u043E \u043C\u0456\u0441\u0442\u0430</label>\n        <select id=\"toCity\">\n            " + items.map(function (city) { return "<option>" + city + "</option>"; }) + "\n        </select>\n    </div>\n"; };
var ElementsList = /** @class */ (function (_super) {
    __extends(ElementsList, _super);
    function ElementsList(list) {
        var _this = _super.call(this) || this;
        _this.list = list;
        _this.onChanged = function (e) {
            _this.chosenCity = e.target.value;
        };
        _this.onSubmitted = function () {
            _this.notify('submitted', _this.chosenCity);
        };
        _this.chosenCity = exports.extractNames(list)[0];
        return _this;
    }
    Object.defineProperty(ElementsList.prototype, "submitButton", {
        get: function () {
            return document.getElementById('calculate');
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(ElementsList.prototype, "toCityElement", {
        get: function () {
            return document.getElementById('toCity');
        },
        enumerable: false,
        configurable: true
    });
    ElementsList.prototype.getTemplate = function () {
        return "\n            <div style=\"margin-left: 20px\">\n                <table>\n                    <tr>\n                      <th>\u0417\u0432\u0456\u0434\u043A\u0438</th>\n                      <th>\u0414\u043E</th>\n                      <th>\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044C</th>\n                    </tr>\n                    " + this.list.map(getTableRow).join('') + "\n                </table>\n\n                " + getComboboxRow(exports.extractNames(this.list)) + "\n                <button id=\"calculate\">\u041E\u0431\u0447\u0438\u0441\u043B\u0438\u0442\u0438</button>\n            </div>  \n        ";
    };
    ElementsList.prototype.subscribeToInternalEvents = function () {
        var _a, _b;
        (_a = this.toCityElement) === null || _a === void 0 ? void 0 : _a.addEventListener('click', this.onChanged);
        (_b = this.submitButton) === null || _b === void 0 ? void 0 : _b.addEventListener('click', this.onSubmitted);
    };
    ElementsList.prototype.unSubscribeFromInternalEvents = function () {
        var _a, _b;
        (_a = this.toCityElement) === null || _a === void 0 ? void 0 : _a.removeEventListener('click', this.onChanged);
        (_b = this.submitButton) === null || _b === void 0 ? void 0 : _b.removeEventListener('click', this.onSubmitted);
    };
    ElementsList.prototype.getElement = function () {
        var _this = this;
        this.unSubscribeFromInternalEvents();
        var rootElement = document.createElement('div');
        rootElement.innerHTML = this.getTemplate();
        setTimeout(function () { return _this.subscribeToInternalEvents(); }, 0);
        return rootElement;
    };
    return ElementsList;
}(PubSub_1.PubSub));
exports.ElementsList = ElementsList;


/***/ }),

/***/ "./src/components/Form.ts":
/*!********************************!*\
  !*** ./src/components/Form.ts ***!
  \********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Form = void 0;
var cities_1 = __webpack_require__(/*! ../constants/cities */ "./src/constants/cities.ts");
var PubSub_1 = __webpack_require__(/*! ../utils/PubSub */ "./src/utils/PubSub.ts");
var initialState = {
    from: cities_1.CITIES[0],
    to: cities_1.CITIES[1],
    weight: 0,
};
var Form = /** @class */ (function (_super) {
    __extends(Form, _super);
    function Form() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.internalState = __assign({}, initialState);
        _this.onChanged = function (e) {
            var _a;
            var idElem = e.target.id;
            var value = e.target.value;
            var formValue = idElem === 'weight' ? Number(value) : value;
            _this.internalState = __assign(__assign({}, _this.internalState), (_a = {}, _a[idElem] = formValue, _a));
        };
        _this.onAddButtonClick = function () {
            _this.unSubscribeFromInternalEvents();
            var payload = __assign({}, _this.internalState);
            _this.internalState = __assign({}, initialState);
            _this.init();
            _this.notify('added', payload);
        };
        return _this;
    }
    Object.defineProperty(Form.prototype, "rootElement", {
        get: function () {
            return document.getElementById('root');
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Form.prototype, "fromElement", {
        get: function () {
            return document.getElementById('from');
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Form.prototype, "toElement", {
        get: function () {
            return document.getElementById('to');
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Form.prototype, "weightElement", {
        get: function () {
            return document.getElementById('weight');
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Form.prototype, "addButton", {
        get: function () {
            return document.getElementById('addButton');
        },
        enumerable: false,
        configurable: true
    });
    Form.prototype.getTemplate = function () {
        return "\n          <div style=\"margin-left: 20px; width: 500px\">\n            <div>\n              <label>\u0412\u0438\u0431\u0440\u0430\u0442\u0438 \u043F\u0435\u0440\u0448\u0435 \u043C\u0456\u0441\u0442\u043E \u043F\u0430\u0440\u0438</label>\n              <select id=\"from\">\n              " + cities_1.CITIES.map(function (city) { return "<option>" + city + "</option>"; }) + "\n              </select>\n            </div>\n            <div>\n              <label>\u0412\u0438\u0431\u0440\u0430\u0442\u0438 \u0434\u0440\u0443\u0433\u0435 \u043C\u0456\u0441\u0442\u043E \u043F\u0430\u0440\u0438</label>\n              <select id=\"to\">\n              " + cities_1.CITIES.map(function (city, i) { return "<option  " + (i === 1 ? 'selected' : '') + ">" + city + "</option>"; }) + "\n              </select>\n            </div>\n            <div>\n              <label>\u0412\u0432\u0435\u0441\u0442\u0438 \u0446\u0456\u043D\u0443</label>\n              <input type=\"number\" id=\"weight\" value=\"" + this.internalState.weight + "\">\n            </div>\n\n            <button id=\"addButton\">\u0414\u043E\u0434\u0430\u0442\u0438 \u043D\u043E\u0432\u0438\u0439 \u043C\u0430\u0440\u0448\u0440\u0443\u0442</button>\n          </div>";
    };
    Form.prototype.subscribeToInternalEvents = function () {
        var _a, _b, _c, _d;
        (_a = this.fromElement) === null || _a === void 0 ? void 0 : _a.addEventListener('change', this.onChanged);
        (_b = this.toElement) === null || _b === void 0 ? void 0 : _b.addEventListener('change', this.onChanged);
        (_c = this.weightElement) === null || _c === void 0 ? void 0 : _c.addEventListener('change', this.onChanged);
        (_d = this.addButton) === null || _d === void 0 ? void 0 : _d.addEventListener('click', this.onAddButtonClick);
    };
    Form.prototype.unSubscribeFromInternalEvents = function () {
        var _a, _b, _c, _d;
        (_a = this.fromElement) === null || _a === void 0 ? void 0 : _a.addEventListener('change', this.onChanged);
        (_b = this.toElement) === null || _b === void 0 ? void 0 : _b.addEventListener('change', this.onChanged);
        (_c = this.weightElement) === null || _c === void 0 ? void 0 : _c.addEventListener('change', this.onChanged);
        (_d = this.addButton) === null || _d === void 0 ? void 0 : _d.addEventListener('click', this.onAddButtonClick);
    };
    Form.prototype.init = function () {
        if (this.rootElement) {
            this.rootElement.innerHTML = this.getTemplate();
            this.subscribeToInternalEvents();
        }
    };
    return Form;
}(PubSub_1.PubSub));
exports.Form = Form;


/***/ }),

/***/ "./src/components/Results.ts":
/*!***********************************!*\
  !*** ./src/components/Results.ts ***!
  \***********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Results = void 0;
var CitiesGraph_1 = __webpack_require__(/*! ../graph-lib/CitiesGraph */ "./src/graph-lib/CitiesGraph.ts");
var PubSub_1 = __webpack_require__(/*! ../utils/PubSub */ "./src/utils/PubSub.ts");
var Results = /** @class */ (function (_super) {
    __extends(Results, _super);
    function Results(chosenCity, items) {
        var _this = _super.call(this) || this;
        _this.chosenCity = chosenCity;
        _this.items = items;
        _this.graph = new CitiesGraph_1.CitiesGraph(items);
        return _this;
    }
    Object.defineProperty(Results.prototype, "rootElement", {
        get: function () {
            var rootElem = document.getElementById('result');
            if (rootElem) {
                return rootElem;
            }
            else {
                var rootElement = document.createElement('div');
                rootElement.setAttribute('id', 'result');
                return rootElement;
            }
        },
        enumerable: false,
        configurable: true
    });
    Results.prototype.getTemplate = function () {
        var tableData = this.getTableData();
        return tableData.length !== 0
            ? "\n              <div style=\"margin: 20px\">\n                <div>\n                  <div>\u041C\u0430\u0442\u0440\u0438\u0446\u044F</div>\n                  " + this.graph.getGraphView() + "\n                </div>\n                <span>\u0422\u0430\u0431\u043B\u0438\u0446\u044F \u0432\u0430\u0440\u0442\u043E\u0441\u0442\u0456 \u0456 \u043D\u0430\u0439\u043A\u043E\u0440\u043E\u0442\u0448\u0438\u0445 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0456\u0432 \u0434\u043B\u044F " + this.chosenCity + "</span>\n                <table>\n                  <tr>\n                    <th>\u041C\u0430\u0440\u0448\u0440\u0443\u0442</th>\n                    <th>\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044C</th>\n                  </tr>\n                  " + this.getTableRow(tableData) + "\n                </table>\n              </div>"
            : "<div style=\"margin: 20px\">\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u043E \u0441\u043A\u043B\u0430\u0434\u0435\u043D\u0438\u0439 \u0433\u0440\u0430\u0444</div>";
    };
    Results.prototype.getTableRow = function (tableData) {
        return "\n          " + tableData
            .filter(function (data) { return data.distance > 0; })
            .map(function (data) { return "\n                      <tr>\n                        <td>" + data.path.join(' - ') + "</td>\n                        <td>" + data.distance + "</td>\n                      </tr>\n                  "; }) + "\n      ";
    };
    Results.prototype.getTableData = function () {
        try {
            var distances = this.graph.getShortestDistancesFrom(this.chosenCity);
            var pathes = this.graph.getAllShortestPathes(this.chosenCity);
            var tableData = [];
            for (var i = 0; i < distances.length; i++) {
                tableData.push({
                    distance: distances[i],
                    path: pathes[i],
                });
            }
            return tableData;
        }
        catch (error) {
            alert('Некоректно складений граф, можливо "острів" присутній');
            return [];
        }
    };
    Results.prototype.getElement = function () {
        var rootElement = this.rootElement;
        rootElement.innerHTML = this.getTemplate();
        return rootElement;
    };
    return Results;
}(PubSub_1.PubSub));
exports.Results = Results;


/***/ }),

/***/ "./src/components/formValidator.ts":
/*!*****************************************!*\
  !*** ./src/components/formValidator.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.WeightedGraphValidator = void 0;
var WeightedGraphValidator = /** @class */ (function () {
    function WeightedGraphValidator() {
    }
    WeightedGraphValidator.prototype.isNotTheSame = function (item) {
        return item.from !== item.to;
    };
    WeightedGraphValidator.prototype.isElementAlreadyExists = function (item, state) {
        return state.some(function (stateItem) {
            return (stateItem.to === item.to && stateItem.from === item.from) ||
                (stateItem.to === item.from && stateItem.from === item.to);
        });
    };
    WeightedGraphValidator.prototype.isValid = function (item, state) {
        return item.weight > 0 && !this.isElementAlreadyExists(item, state) && this.isNotTheSame(item);
    };
    return WeightedGraphValidator;
}());
exports.WeightedGraphValidator = WeightedGraphValidator;


/***/ }),

/***/ "./src/constants/cities.ts":
/*!*********************************!*\
  !*** ./src/constants/cities.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CITIES = void 0;
exports.CITIES = ['Львів', 'Одеса', 'Київ', 'Харків', 'Тернопіль', 'Дніпро', 'Рівне', 'Ужгород'];


/***/ }),

/***/ "./src/graph-lib/AdjacencyMatrix.ts":
/*!******************************************!*\
  !*** ./src/graph-lib/AdjacencyMatrix.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AdjacencyMatrix = void 0;
var Matrix_1 = __webpack_require__(/*! ../utils/Matrix */ "./src/utils/Matrix.ts");
var AdjacencyMatrix = /** @class */ (function () {
    function AdjacencyMatrix(matrix) {
        this.matrix = matrix ? matrix : new Matrix_1.Matrix([[0]]);
    }
    AdjacencyMatrix.prototype.addVertex = function () {
        var rowValues = new Array(this.matrix.getColumnsAmount()).fill(0, 0, this.matrix.getColumnsAmount());
        this.matrix.addRow(rowValues);
        var columnValues = new Array(this.matrix.getRowsAmount()).fill(0, 0, this.matrix.getRowsAmount());
        this.matrix.addColumn(columnValues);
        return this;
    };
    AdjacencyMatrix.prototype.addVertexTimes = function (times) {
        for (var i = 0; i < times; i++) {
            this.addVertex();
        }
        return this;
    };
    AdjacencyMatrix.prototype.removeVertex = function (i) {
        if (i < 0 || i > this.matrix.getRowsAmount() - 1) {
            throw Error('vertex does not exist');
        }
        else {
            this.matrix.removeLines(i, i);
        }
        return this;
    };
    AdjacencyMatrix.prototype.addEdge = function (i, j, weight) {
        if (i === j) {
            throw Error('the same vertex');
        }
        else if (i > this.matrix.getRowsAmount() - 1 || j > this.matrix.getColumnsAmount() - 1) {
            throw Error('vertex does not exist');
        }
        this.matrix.changeElem(i, j, weight);
        this.matrix.changeElem(j, i, weight);
        return this;
    };
    AdjacencyMatrix.prototype.removeEdge = function (i, j) {
        this.matrix.changeElem(i, j, 0);
        this.matrix.changeElem(j, i, 0);
        return this;
    };
    AdjacencyMatrix.prototype.getEdge = function (i, j) {
        return this.matrix.getElement(i, j);
    };
    AdjacencyMatrix.prototype.getVerticesAmount = function () {
        return this.matrix.getColumnsAmount();
    };
    AdjacencyMatrix.prototype.print = function () {
        return this.matrix.print();
    };
    return AdjacencyMatrix;
}());
exports.AdjacencyMatrix = AdjacencyMatrix;


/***/ }),

/***/ "./src/graph-lib/CitiesGraph.ts":
/*!**************************************!*\
  !*** ./src/graph-lib/CitiesGraph.ts ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __read = (this && this.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spreadArray = (this && this.__spreadArray) || function (to, from) {
    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
        to[j] = from[i];
    return to;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CitiesGraph = void 0;
var AdjacencyMatrix_1 = __webpack_require__(/*! ./AdjacencyMatrix */ "./src/graph-lib/AdjacencyMatrix.ts");
var dijkstra_1 = __webpack_require__(/*! ./dijkstra */ "./src/graph-lib/dijkstra.ts");
var CitiesGraph = /** @class */ (function () {
    function CitiesGraph(edges) {
        this.matrix = new AdjacencyMatrix_1.AdjacencyMatrix();
        this.registeredNames = this.getRegisteredNames(edges);
        this.formMatrix(edges);
    }
    CitiesGraph.prototype.getRegisteredNames = function (items) {
        return __spreadArray([], __read(new Set(__spreadArray(__spreadArray([], __read(items.map(function (item) { return item.to; }))), __read(items.map(function (item) { return item.from; })))))).sort();
    };
    CitiesGraph.prototype.formMatrix = function (edges) {
        var _this = this;
        this.matrix.addVertexTimes(this.registeredNames.length - 1);
        edges.forEach(function (edge) {
            var fromIndex = _this.registeredNames.indexOf(edge.from);
            var toIndex = _this.registeredNames.indexOf(edge.to);
            _this.matrix.addEdge(fromIndex, toIndex, edge.weight);
        });
    };
    CitiesGraph.prototype.getShortestDistancesFrom = function (city) {
        var cityIndex = this.registeredNames.indexOf(city);
        var shortestDistances = dijkstra_1.dijkstra(this.matrix, cityIndex).shortestDistances;
        return shortestDistances;
    };
    CitiesGraph.prototype.getShortestPath = function (from, to) {
        var _this = this;
        var fromCityIndex = this.registeredNames.indexOf(from);
        var toCityIndex = this.registeredNames.indexOf(to);
        var parentPath = dijkstra_1.dijkstra(this.matrix, fromCityIndex).parentPath;
        var citiesList = __spreadArray(__spreadArray([], __read(dijkstra_1.printPath(toCityIndex, parentPath).reverse())), [toCityIndex]);
        return citiesList.map(function (cityIndex) { return _this.registeredNames[cityIndex]; });
    };
    CitiesGraph.prototype.getAllShortestPathes = function (from) {
        var _this = this;
        return this.registeredNames.map(function (city) { return _this.getShortestPath(from, city); });
    };
    CitiesGraph.prototype.getGraphView = function () {
        return this.matrix.print();
    };
    return CitiesGraph;
}());
exports.CitiesGraph = CitiesGraph;


/***/ }),

/***/ "./src/graph-lib/dijkstra.ts":
/*!***********************************!*\
  !*** ./src/graph-lib/dijkstra.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.printPath = exports.dijkstra = void 0;
function dijkstra(adjacencyMatrix, vertex) {
    var verticesAmount = adjacencyMatrix.getVerticesAmount();
    var shortestDistances = new Array(verticesAmount).fill(Number.MAX_SAFE_INTEGER, 0, verticesAmount);
    var added = new Array(verticesAmount).fill(false, 0, verticesAmount);
    var parentPath = [];
    shortestDistances[vertex] = 0;
    parentPath[vertex] = -1;
    for (var i = 1; i < verticesAmount; i++) {
        var shortestDistance = Number.MAX_SAFE_INTEGER;
        var nearest = -1;
        for (var vertexIndex = 0; vertexIndex < verticesAmount; vertexIndex++) {
            if (!added[vertexIndex] && shortestDistances[vertexIndex] < shortestDistance) {
                nearest = vertexIndex;
                shortestDistance = shortestDistances[vertexIndex];
            }
        }
        added[nearest] = true;
        for (var vertexIndex = 0; vertexIndex < verticesAmount; vertexIndex++) {
            var edgeDistance = adjacencyMatrix.getEdge(nearest, vertexIndex);
            if (edgeDistance > 0 && shortestDistance + edgeDistance < shortestDistances[vertexIndex]) {
                parentPath[vertexIndex] = nearest;
                shortestDistances[vertexIndex] = shortestDistance + edgeDistance;
            }
        }
    }
    return { shortestDistances: shortestDistances, parentPath: parentPath };
}
exports.dijkstra = dijkstra;
function printPath(currentVertex, parents, currentPath) {
    if (currentPath === void 0) { currentPath = []; }
    if (currentVertex === -1) {
        return currentPath;
    }
    else {
        if (parents[currentVertex] !== -1) {
            currentPath.push(parents[currentVertex]);
        }
        return printPath(parents[currentVertex], parents, currentPath);
    }
}
exports.printPath = printPath;


/***/ }),

/***/ "./src/utils/Matrix.ts":
/*!*****************************!*\
  !*** ./src/utils/Matrix.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Matrix = void 0;
var Matrix = /** @class */ (function () {
    function Matrix(elements) {
        this.elements = elements;
    }
    Matrix.prototype.getRowsAmount = function () {
        return this.elements.length;
    };
    Matrix.prototype.getColumnsAmount = function (row) {
        if (row === void 0) { row = 0; }
        return this.elements[row].length;
    };
    Matrix.prototype.removeRow = function (i) {
        this.elements = this.elements.filter(function (_, rowIndex) { return rowIndex !== i; });
        return this;
    };
    Matrix.prototype.removeColumn = function (i) {
        this.elements = this.elements.map(function (row) { return row.filter(function (_, index) { return index !== i; }); });
        return this;
    };
    Matrix.prototype.removeLines = function (i, j) {
        return this.removeRow(i).removeColumn(j);
    };
    Matrix.prototype.changeElem = function (row, column, elem) {
        this.elements[row][column] = elem;
        return this;
    };
    Matrix.prototype.addRow = function (values) {
        if (values.length !== this.getColumnsAmount()) {
            throw Error('wrong number of values');
        }
        this.elements[this.getRowsAmount()] = new Array(this.getColumnsAmount())
            .fill(null, 0, this.getColumnsAmount())
            .map(function (_el, i) { return values[i]; });
        return this;
    };
    Matrix.prototype.addColumn = function (values) {
        var _this = this;
        if (values.length !== this.getRowsAmount()) {
            throw Error('wrong number of values');
        }
        this.elements = this.elements.map(function (row, index) {
            row[_this.getColumnsAmount(index)] = values[index];
            return row;
        });
        return this;
    };
    Matrix.prototype.getElement = function (i, j) {
        return this.elements[i][j];
    };
    Matrix.prototype.print = function () {
        var matrixLatex = this.elements.map(function (row) { return row.join(' & '); }).join("\\\\");
        return "<img src=\"https://latex.codecogs.com/gif.latex?A = \\begin{pmatrix}" + matrixLatex + "\\end{pmatrix}\" title=\"Saldan Roman\" />";
    };
    return Matrix;
}());
exports.Matrix = Matrix;


/***/ }),

/***/ "./src/utils/PubSub.ts":
/*!*****************************!*\
  !*** ./src/utils/PubSub.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PubSub = void 0;
var PubSub = /** @class */ (function () {
    function PubSub() {
        this.subscribers = {};
    }
    PubSub.prototype.subscribe = function (event, callback) {
        if (this.subscribers[event]) {
            this.subscribers[event].push(callback);
        }
        else {
            this.subscribers[event] = [callback];
        }
    };
    PubSub.prototype.notify = function (event, details) {
        this.subscribers[event].forEach(function (subscriber) { return subscriber(details); });
    };
    return PubSub;
}());
exports.PubSub = PubSub;


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
var exports = __webpack_exports__;
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/

Object.defineProperty(exports, "__esModule", ({ value: true }));
var ElementsList_1 = __webpack_require__(/*! ./components/ElementsList */ "./src/components/ElementsList.ts");
var Form_1 = __webpack_require__(/*! ./components/Form */ "./src/components/Form.ts");
__webpack_require__(/*! ./index.css */ "./src/index.css");
var Results_1 = __webpack_require__(/*! ./components/Results */ "./src/components/Results.ts");
var formValidator_1 = __webpack_require__(/*! ./components/formValidator */ "./src/components/formValidator.ts");
var form = new Form_1.Form();
var state = [];
var validator = new formValidator_1.WeightedGraphValidator();
form.init();
form.subscribe('added', function (route) {
    var _a;
    if (validator.isValid(route, state)) {
        state.push(route);
    }
    else {
        alert('value not valid');
    }
    var list = new ElementsList_1.ElementsList(state);
    (_a = document.getElementById('root')) === null || _a === void 0 ? void 0 : _a.append(list.getElement());
    list.subscribe('submitted', function (city) {
        var _a;
        var results = new Results_1.Results(city, state);
        (_a = document.getElementById('root')) === null || _a === void 0 ? void 0 : _a.append(results.getElement());
    });
});

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8wOF9hbGdzMi8uL3NyYy9pbmRleC5jc3MiLCJ3ZWJwYWNrOi8vMDhfYWxnczIvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovLzA4X2FsZ3MyLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vMDhfYWxnczIvLi9zcmMvaW5kZXguY3NzP2NmZTQiLCJ3ZWJwYWNrOi8vMDhfYWxnczIvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vMDhfYWxnczIvLi9zcmMvY29tcG9uZW50cy9FbGVtZW50c0xpc3QudHMiLCJ3ZWJwYWNrOi8vMDhfYWxnczIvLi9zcmMvY29tcG9uZW50cy9Gb3JtLnRzIiwid2VicGFjazovLzA4X2FsZ3MyLy4vc3JjL2NvbXBvbmVudHMvUmVzdWx0cy50cyIsIndlYnBhY2s6Ly8wOF9hbGdzMi8uL3NyYy9jb21wb25lbnRzL2Zvcm1WYWxpZGF0b3IudHMiLCJ3ZWJwYWNrOi8vMDhfYWxnczIvLi9zcmMvY29uc3RhbnRzL2NpdGllcy50cyIsIndlYnBhY2s6Ly8wOF9hbGdzMi8uL3NyYy9ncmFwaC1saWIvQWRqYWNlbmN5TWF0cml4LnRzIiwid2VicGFjazovLzA4X2FsZ3MyLy4vc3JjL2dyYXBoLWxpYi9DaXRpZXNHcmFwaC50cyIsIndlYnBhY2s6Ly8wOF9hbGdzMi8uL3NyYy9ncmFwaC1saWIvZGlqa3N0cmEudHMiLCJ3ZWJwYWNrOi8vMDhfYWxnczIvLi9zcmMvdXRpbHMvTWF0cml4LnRzIiwid2VicGFjazovLzA4X2FsZ3MyLy4vc3JjL3V0aWxzL1B1YlN1Yi50cyIsIndlYnBhY2s6Ly8wOF9hbGdzMi93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8wOF9hbGdzMi93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly8wOF9hbGdzMi93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vMDhfYWxnczIvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly8wOF9hbGdzMi93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovLzA4X2FsZ3MyLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ3NIO0FBQzdCO0FBQ3pGLDhCQUE4QixtRkFBMkIsQ0FBQyx3R0FBcUM7QUFDL0Y7QUFDQSxpREFBaUQsa0NBQWtDLGtEQUFrRCxrQ0FBa0MscUJBQXFCLEtBQUssK0JBQStCLCtCQUErQixxQkFBcUIsS0FBSyxrQ0FBa0Msa0NBQWtDLEtBQUssd0JBQXdCLCtCQUErQixLQUFLLGtCQUFrQiwwQkFBMEIsNkJBQTZCLHlCQUF5QixrQ0FBa0MscUJBQXFCLEtBQUssZ0JBQWdCLGtDQUFrQyxxQkFBcUIscUJBQXFCLDJCQUEyQiwyQkFBMkIsOEJBQThCLDhCQUE4Qix3QkFBd0Isd0JBQXdCLEtBQUssc0JBQXNCLHdCQUF3QixLQUFLLHVDQUF1QyxvQkFBb0IsMkJBQTJCLHNCQUFzQiw4QkFBOEIsK0JBQStCLDJCQUEyQiwrQkFBK0IsS0FBSyw4QkFBOEIsb0JBQW9CLDJCQUEyQixzQkFBc0IscUJBQXFCLDJCQUEyQix3QkFBd0IsS0FBSyxhQUFhLDJCQUEyQixrQ0FBa0MsS0FBSyxjQUFjLGtDQUFrQyxLQUFLLFdBQVcsZ0ZBQWdGLFlBQVksYUFBYSxhQUFhLFdBQVcsT0FBTyxNQUFNLFlBQVksV0FBVyxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxhQUFhLGFBQWEsYUFBYSxXQUFXLE9BQU8sS0FBSyxZQUFZLFdBQVcsVUFBVSxZQUFZLGFBQWEsYUFBYSxhQUFhLFdBQVcsVUFBVSxPQUFPLEtBQUssVUFBVSxPQUFPLE1BQU0sVUFBVSxZQUFZLFdBQVcsWUFBWSxhQUFhLGFBQWEsYUFBYSxPQUFPLEtBQUssVUFBVSxZQUFZLFdBQVcsVUFBVSxZQUFZLFdBQVcsT0FBTyxLQUFLLFlBQVksYUFBYSxPQUFPLEtBQUssWUFBWSxpQ0FBaUMsa0NBQWtDLGtEQUFrRCxrQ0FBa0MscUJBQXFCLEtBQUssK0JBQStCLCtCQUErQixxQkFBcUIsS0FBSyxrQ0FBa0Msa0NBQWtDLEtBQUssd0JBQXdCLCtCQUErQixLQUFLLGtCQUFrQiwwQkFBMEIsNkJBQTZCLHlCQUF5QixrQ0FBa0MscUJBQXFCLEtBQUssZ0JBQWdCLGtDQUFrQyxxQkFBcUIscUJBQXFCLDJCQUEyQiwyQkFBMkIsOEJBQThCLDhCQUE4Qix3QkFBd0Isd0JBQXdCLEtBQUssc0JBQXNCLHdCQUF3QixLQUFLLHVDQUF1QyxvQkFBb0IsMkJBQTJCLHNCQUFzQiw4QkFBOEIsK0JBQStCLDJCQUEyQiwrQkFBK0IsS0FBSyw4QkFBOEIsb0JBQW9CLDJCQUEyQixzQkFBc0IscUJBQXFCLDJCQUEyQix3QkFBd0IsS0FBSyxhQUFhLDJCQUEyQixrQ0FBa0MsS0FBSyxjQUFjLGtDQUFrQyxLQUFLLHVCQUF1QjtBQUNwOEc7QUFDQSxpRUFBZSx1QkFBdUIsRUFBQzs7Ozs7Ozs7Ozs7QUNQMUI7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7O0FBRWhCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QyxxQkFBcUI7QUFDakU7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EscUJBQXFCLGlCQUFpQjtBQUN0QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CLHFCQUFxQjtBQUN6Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEU7Ozs7Ozs7Ozs7QUNqRWE7O0FBRWIsaUNBQWlDLDJIQUEySDs7QUFFNUosNkJBQTZCLGtLQUFrSzs7QUFFL0wsaURBQWlELGdCQUFnQixnRUFBZ0Usd0RBQXdELDZEQUE2RCxzREFBc0Qsa0hBQWtIOztBQUU5WixzQ0FBc0MsdURBQXVELHVDQUF1QyxTQUFTLE9BQU8sa0JBQWtCLEVBQUUsYUFBYTs7QUFFckwsd0NBQXdDLDhGQUE4Rix3QkFBd0IsZUFBZSxlQUFlLGdCQUFnQixZQUFZLE1BQU0sd0JBQXdCLCtCQUErQixhQUFhLHFCQUFxQixtQ0FBbUMsRUFBRSxFQUFFLGNBQWMsV0FBVyxVQUFVLEVBQUUsVUFBVSxNQUFNLGlEQUFpRCxFQUFFLFVBQVUsa0JBQWtCLEVBQUUsRUFBRSxhQUFhOztBQUVuZiwrQkFBK0Isb0NBQW9DOztBQUVuRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsY0FBYztBQUNyRTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLEU7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDL0J5RjtBQUN6RixZQUF1Rjs7QUFFdkY7O0FBRUE7QUFDQTs7QUFFQSxhQUFhLDBHQUFHLENBQUMsbUZBQU87Ozs7QUFJeEIsaUVBQWUsMEZBQWMsTUFBTSxFOzs7Ozs7Ozs7O0FDWnRCOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQ7O0FBRXZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBOztBQUVBLGlCQUFpQix3QkFBd0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxpQkFBaUIsaUJBQWlCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0IsS0FBd0MsR0FBRyxzQkFBaUIsR0FBRyxDQUFJOztBQUVuRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxxRUFBcUUscUJBQXFCLGFBQWE7O0FBRXZHOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQSx5REFBeUQ7QUFDekQsR0FBRzs7QUFFSDs7O0FBR0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBCQUEwQjtBQUMxQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLG1CQUFtQiw0QkFBNEI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsb0JBQW9CLDZCQUE2QjtBQUNqRDs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzNRQSxtRkFBdUM7QUFFaEMsSUFBTSxZQUFZLEdBQUcsVUFBQyxLQUEwQjtJQUNuRCxnQ0FBSSxJQUFJLEdBQUcsd0NBQUssS0FBSyxDQUFDLEdBQUcsQ0FBQyxVQUFDLElBQUksSUFBSyxXQUFJLENBQUMsRUFBRSxFQUFQLENBQU8sQ0FBQyxXQUFLLEtBQUssQ0FBQyxHQUFHLENBQUMsVUFBQyxJQUFJLElBQUssV0FBSSxDQUFDLElBQUksRUFBVCxDQUFTLENBQUMsR0FBRSxHQUFFLElBQUksRUFBRTtBQUF6RixDQUF5RixDQUFDO0FBRGpGLG9CQUFZLGdCQUNxRTtBQUU5RixJQUFNLFdBQVcsR0FBRyxVQUFDLElBQXVCLElBQUssb0NBRW5DLElBQUksQ0FBQyxJQUFJLDJCQUNULElBQUksQ0FBQyxFQUFFLDJCQUNQLElBQUksQ0FBQyxNQUFNLHVCQUV4QixFQU5nRCxDQU1oRCxDQUFDO0FBRUYsSUFBTSxjQUFjLEdBQUcsVUFBQyxLQUFlLElBQUssK1RBSTlCLEtBQUssQ0FBQyxHQUFHLENBQUMsVUFBQyxJQUFJLElBQUssb0JBQVcsSUFBSSxjQUFXLEVBQTFCLENBQTBCLENBQUMsc0NBRzVELEVBUDJDLENBTzNDLENBQUM7QUFFRjtJQUFrQyxnQ0FBTTtJQUdwQyxzQkFBb0IsSUFBeUI7UUFBN0MsWUFDSSxpQkFBTyxTQUdWO1FBSm1CLFVBQUksR0FBSixJQUFJLENBQXFCO1FBMENyQyxlQUFTLEdBQUcsVUFBQyxDQUFRO1lBQ3pCLEtBQUksQ0FBQyxVQUFVLEdBQUksQ0FBQyxDQUFDLE1BQTJCLENBQUMsS0FBSyxDQUFDO1FBQzNELENBQUMsQ0FBQztRQUVNLGlCQUFXLEdBQUc7WUFDbEIsS0FBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsS0FBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQzlDLENBQUMsQ0FBQztRQTdDRSxLQUFJLENBQUMsVUFBVSxHQUFHLG9CQUFZLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7O0lBQzVDLENBQUM7SUFFRCxzQkFBWSxzQ0FBWTthQUF4QjtZQUNJLE9BQU8sUUFBUSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNoRCxDQUFDOzs7T0FBQTtJQUVELHNCQUFZLHVDQUFhO2FBQXpCO1lBQ0ksT0FBTyxRQUFRLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzdDLENBQUM7OztPQUFBO0lBRU8sa0NBQVcsR0FBbkI7UUFDSSxPQUFPLDJWQVFPLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsc0RBR3ZDLGNBQWMsQ0FBQyxvQkFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQywrSUFHaEQsQ0FBQztJQUNOLENBQUM7SUFFTyxnREFBeUIsR0FBakM7O1FBQ0ksVUFBSSxDQUFDLGFBQWEsMENBQUUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUM5RCxVQUFJLENBQUMsWUFBWSwwQ0FBRSxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ25FLENBQUM7SUFFTyxvREFBNkIsR0FBckM7O1FBQ0ksVUFBSSxDQUFDLGFBQWEsMENBQUUsbUJBQW1CLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNqRSxVQUFJLENBQUMsWUFBWSwwQ0FBRSxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3RFLENBQUM7SUFVRCxpQ0FBVSxHQUFWO1FBQUEsaUJBUUM7UUFQRyxJQUFJLENBQUMsNkJBQTZCLEVBQUUsQ0FBQztRQUNyQyxJQUFNLFdBQVcsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRWxELFdBQVcsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQzNDLFVBQVUsQ0FBQyxjQUFNLFlBQUksQ0FBQyx5QkFBeUIsRUFBRSxFQUFoQyxDQUFnQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRXRELE9BQU8sV0FBVyxDQUFDO0lBQ3ZCLENBQUM7SUFDTCxtQkFBQztBQUFELENBQUMsQ0E5RGlDLGVBQU0sR0E4RHZDO0FBOURZLG9DQUFZOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdkJ6QiwyRkFBMkM7QUFDM0MsbUZBQXVDO0FBRXZDLElBQU0sWUFBWSxHQUFHO0lBQ2pCLElBQUksRUFBRSxlQUFNLENBQUMsQ0FBQyxDQUFDO0lBQ2YsRUFBRSxFQUFFLGVBQU0sQ0FBQyxDQUFDLENBQUM7SUFDYixNQUFNLEVBQUUsQ0FBQztDQUNaLENBQUM7QUFFRjtJQUEwQix3QkFBTTtJQUFoQztRQUFBLHFFQXlGQztRQXhGRyxtQkFBYSxnQkFDTixZQUFZLEVBQ2pCO1FBNERNLGVBQVMsR0FBRyxVQUFDLENBQVE7O1lBRXpCLElBQU0sTUFBTSxHQUFJLENBQUMsQ0FBQyxNQUEyQixDQUFDLEVBQVMsQ0FBQztZQUN4RCxJQUFNLEtBQUssR0FBSSxDQUFDLENBQUMsTUFBMkIsQ0FBQyxLQUFLLENBQUM7WUFDbkQsSUFBTSxTQUFTLEdBQUcsTUFBTSxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7WUFFOUQsS0FBSSxDQUFDLGFBQWEseUJBQ1gsS0FBSSxDQUFDLGFBQWEsZ0JBQ3BCLE1BQU0sSUFBRyxTQUFTLE1BQ3RCLENBQUM7UUFDTixDQUFDLENBQUM7UUFFTSxzQkFBZ0IsR0FBRztZQUN2QixLQUFJLENBQUMsNkJBQTZCLEVBQUUsQ0FBQztZQUNyQyxJQUFNLE9BQU8sZ0JBQU8sS0FBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQ3hDLEtBQUksQ0FBQyxhQUFhLGdCQUFPLFlBQVksQ0FBQyxDQUFDO1lBQ3ZDLEtBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNaLEtBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ2xDLENBQUMsQ0FBQzs7SUFRTixDQUFDO0lBcEZHLHNCQUFZLDZCQUFXO2FBQXZCO1lBQ0ksT0FBTyxRQUFRLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzNDLENBQUM7OztPQUFBO0lBRUQsc0JBQVksNkJBQVc7YUFBdkI7WUFDSSxPQUFPLFFBQVEsQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDM0MsQ0FBQzs7O09BQUE7SUFFRCxzQkFBWSwyQkFBUzthQUFyQjtZQUNJLE9BQU8sUUFBUSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN6QyxDQUFDOzs7T0FBQTtJQUVELHNCQUFZLCtCQUFhO2FBQXpCO1lBQ0ksT0FBTyxRQUFRLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzdDLENBQUM7OztPQUFBO0lBRUQsc0JBQVksMkJBQVM7YUFBckI7WUFDSSxPQUFPLFFBQVEsQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDaEQsQ0FBQzs7O09BQUE7SUFFTywwQkFBVyxHQUFuQjtRQUNJLE9BQU8sdVNBS0MsZUFBTSxDQUFDLEdBQUcsQ0FBQyxVQUFDLElBQUksSUFBSyxvQkFBVyxJQUFJLGNBQVcsRUFBMUIsQ0FBMEIsQ0FBQywwUkFNaEQsZUFBTSxDQUFDLEdBQUcsQ0FBQyxVQUFDLElBQUksRUFBRSxDQUFDLElBQUssc0JBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLFVBQUksSUFBSSxjQUFXLEVBQXhELENBQXdELENBQUMsaU9BS3pDLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSw4TUFJaEUsQ0FBQztJQUNkLENBQUM7SUFFTyx3Q0FBeUIsR0FBakM7O1FBQ0ksVUFBSSxDQUFDLFdBQVcsMENBQUUsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUM3RCxVQUFJLENBQUMsU0FBUywwQ0FBRSxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzNELFVBQUksQ0FBQyxhQUFhLDBDQUFFLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDL0QsVUFBSSxDQUFDLFNBQVMsMENBQUUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3JFLENBQUM7SUFFTyw0Q0FBNkIsR0FBckM7O1FBQ0ksVUFBSSxDQUFDLFdBQVcsMENBQUUsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUM3RCxVQUFJLENBQUMsU0FBUywwQ0FBRSxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzNELFVBQUksQ0FBQyxhQUFhLDBDQUFFLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDL0QsVUFBSSxDQUFDLFNBQVMsMENBQUUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3JFLENBQUM7SUFzQkQsbUJBQUksR0FBSjtRQUNJLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRTtZQUNsQixJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDaEQsSUFBSSxDQUFDLHlCQUF5QixFQUFFLENBQUM7U0FDcEM7SUFDTCxDQUFDO0lBQ0wsV0FBQztBQUFELENBQUMsQ0F6RnlCLGVBQU0sR0F5Ri9CO0FBekZZLG9CQUFJOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1RqQiwwR0FBd0U7QUFDeEUsbUZBQXVDO0FBT3ZDO0lBQTZCLDJCQUFNO0lBRS9CLGlCQUFvQixVQUFrQixFQUFVLEtBQTBCO1FBQTFFLFlBQ0ksaUJBQU8sU0FHVjtRQUptQixnQkFBVSxHQUFWLFVBQVUsQ0FBUTtRQUFVLFdBQUssR0FBTCxLQUFLLENBQXFCO1FBR3RFLEtBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSx5QkFBVyxDQUFDLEtBQUssQ0FBQyxDQUFDOztJQUN4QyxDQUFDO0lBRUQsc0JBQUksZ0NBQVc7YUFBZjtZQUNJLElBQU0sUUFBUSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUM7WUFFbkQsSUFBSSxRQUFRLEVBQUU7Z0JBQ1YsT0FBTyxRQUFRLENBQUM7YUFDbkI7aUJBQU07Z0JBQ0gsSUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDbEQsV0FBVyxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7Z0JBRXpDLE9BQU8sV0FBVyxDQUFDO2FBQ3RCO1FBQ0wsQ0FBQzs7O09BQUE7SUFFTyw2QkFBVyxHQUFuQjtRQUNJLElBQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUV0QyxPQUFPLFNBQVMsQ0FBQyxNQUFNLEtBQUssQ0FBQztZQUN6QixDQUFDLENBQUMscUtBSU0sSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLEVBQUUsd1NBRXdCLElBQUksQ0FBQyxVQUFVLHFRQU1oRSxJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxxREFFMUI7WUFDVCxDQUFDLENBQUMsZ0xBQTJELENBQUM7SUFDdEUsQ0FBQztJQUVPLDZCQUFXLEdBQW5CLFVBQW9CLFNBQXNCO1FBQ3RDLE9BQU8saUJBQ0gsU0FBUzthQUNOLE1BQU0sQ0FBQyxVQUFDLElBQUksSUFBSyxXQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsRUFBakIsQ0FBaUIsQ0FBQzthQUNuQyxHQUFHLENBQ0EsVUFBQyxJQUFJLElBQUssc0VBRUUsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLDJDQUNyQixJQUFJLENBQUMsUUFBUSwyREFFeEIsRUFMUyxDQUtULENBQ0osYUFDUixDQUFDO0lBQ0osQ0FBQztJQUVELDhCQUFZLEdBQVo7UUFDSSxJQUFJO1lBQ0EsSUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDdkUsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDaEUsSUFBTSxTQUFTLEdBQWdCLEVBQUUsQ0FBQztZQUVsQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDdkMsU0FBUyxDQUFDLElBQUksQ0FBQztvQkFDWCxRQUFRLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQztvQkFDdEIsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUM7aUJBQ2xCLENBQUMsQ0FBQzthQUNOO1lBRUQsT0FBTyxTQUFTLENBQUM7U0FDcEI7UUFBQyxPQUFPLEtBQUssRUFBRTtZQUNaLEtBQUssQ0FBQyx1REFBdUQsQ0FBQyxDQUFDO1lBRS9ELE9BQU8sRUFBRSxDQUFDO1NBQ2I7SUFDTCxDQUFDO0lBRUQsNEJBQVUsR0FBVjtRQUNJLElBQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7UUFDckMsV0FBVyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFFM0MsT0FBTyxXQUFXLENBQUM7SUFDdkIsQ0FBQztJQUNMLGNBQUM7QUFBRCxDQUFDLENBckY0QixlQUFNLEdBcUZsQztBQXJGWSwwQkFBTzs7Ozs7Ozs7Ozs7Ozs7QUNOcEI7SUFBQTtJQWdCQSxDQUFDO0lBZlcsNkNBQVksR0FBcEIsVUFBcUIsSUFBdUI7UUFDeEMsT0FBTyxJQUFJLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxFQUFFLENBQUM7SUFDakMsQ0FBQztJQUVPLHVEQUFzQixHQUE5QixVQUErQixJQUF1QixFQUFFLEtBQTBCO1FBQzlFLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FDYixVQUFDLFNBQVM7WUFDTixRQUFDLFNBQVMsQ0FBQyxFQUFFLEtBQUssSUFBSSxDQUFDLEVBQUUsSUFBSSxTQUFTLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUM7Z0JBQzFELENBQUMsU0FBUyxDQUFDLEVBQUUsS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLFNBQVMsQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLEVBQUUsQ0FBQztRQUQxRCxDQUMwRCxDQUNqRSxDQUFDO0lBQ04sQ0FBQztJQUVELHdDQUFPLEdBQVAsVUFBUSxJQUF1QixFQUFFLEtBQTBCO1FBQ3ZELE9BQU8sSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsc0JBQXNCLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbkcsQ0FBQztJQUNMLDZCQUFDO0FBQUQsQ0FBQztBQWhCWSx3REFBc0I7Ozs7Ozs7Ozs7Ozs7O0FDRnRCLGNBQU0sR0FBRyxDQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxXQUFXLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxTQUFTLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7QUNBdEcsbUZBQXVDO0FBRXZDO0lBR0kseUJBQVksTUFBdUI7UUFDL0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxlQUFNLENBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM5RCxDQUFDO0lBRUQsbUNBQVMsR0FBVDtRQUNJLElBQU0sU0FBUyxHQUFHLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzlCLElBQU0sWUFBWSxHQUFHLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsYUFBYSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLGFBQWEsRUFBRSxDQUFDLENBQUM7UUFDcEcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLENBQUM7UUFFcEMsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELHdDQUFjLEdBQWQsVUFBZSxLQUFhO1FBQ3hCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDNUIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1NBQ3BCO1FBRUQsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELHNDQUFZLEdBQVosVUFBYSxDQUFTO1FBQ2xCLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxhQUFhLEVBQUUsR0FBRyxDQUFDLEVBQUU7WUFDOUMsTUFBTSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQztTQUN4QzthQUFNO1lBQ0gsSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQ2pDO1FBRUQsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELGlDQUFPLEdBQVAsVUFBUSxDQUFTLEVBQUUsQ0FBUyxFQUFFLE1BQWM7UUFDeEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQ1QsTUFBTSxLQUFLLENBQUMsaUJBQWlCLENBQUMsQ0FBQztTQUNsQzthQUFNLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsYUFBYSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLGdCQUFnQixFQUFFLEdBQUcsQ0FBQyxFQUFFO1lBQ3RGLE1BQU0sS0FBSyxDQUFDLHVCQUF1QixDQUFDLENBQUM7U0FDeEM7UUFFRCxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQ3JDLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFFckMsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELG9DQUFVLEdBQVYsVUFBVyxDQUFTLEVBQUUsQ0FBUztRQUMzQixJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFFaEMsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELGlDQUFPLEdBQVAsVUFBUSxDQUFTLEVBQUUsQ0FBUztRQUN4QixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBRUQsMkNBQWlCLEdBQWpCO1FBQ0ksT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLGdCQUFnQixFQUFFLENBQUM7SUFDMUMsQ0FBQztJQUVELCtCQUFLLEdBQUw7UUFDSSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDL0IsQ0FBQztJQUNMLHNCQUFDO0FBQUQsQ0FBQztBQWpFWSwwQ0FBZTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNGNUIsMkdBQWtEO0FBQ2xELHNGQUErQztBQVEvQztJQUlJLHFCQUFZLEtBQTBCO1FBRjVCLFdBQU0sR0FBRyxJQUFJLGlDQUFlLEVBQUUsQ0FBQztRQUdyQyxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN0RCxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzNCLENBQUM7SUFFTyx3Q0FBa0IsR0FBMUIsVUFBMkIsS0FBMEI7UUFDakQsT0FBTyx5QkFBSSxJQUFJLEdBQUcsd0NBQUssS0FBSyxDQUFDLEdBQUcsQ0FBQyxVQUFDLElBQUksSUFBSyxXQUFJLENBQUMsRUFBRSxFQUFQLENBQU8sQ0FBQyxXQUFLLEtBQUssQ0FBQyxHQUFHLENBQUMsVUFBQyxJQUFJLElBQUssV0FBSSxDQUFDLElBQUksRUFBVCxDQUFTLENBQUMsR0FBRSxHQUFFLElBQUksRUFBRSxDQUFDO0lBQ3JHLENBQUM7SUFFTyxnQ0FBVSxHQUFsQixVQUFtQixLQUEwQjtRQUE3QyxpQkFTQztRQVJHLElBQUksQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBRTVELEtBQUssQ0FBQyxPQUFPLENBQUMsVUFBQyxJQUFJO1lBQ2YsSUFBTSxTQUFTLEdBQUcsS0FBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzFELElBQU0sT0FBTyxHQUFHLEtBQUksQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUV0RCxLQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN6RCxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCw4Q0FBd0IsR0FBeEIsVUFBeUIsSUFBWTtRQUNqQyxJQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM5QyxxQkFBaUIsR0FBSSxtQkFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDLGtCQUFwQyxDQUFxQztRQUU3RCxPQUFPLGlCQUFpQixDQUFDO0lBQzdCLENBQUM7SUFFRCxxQ0FBZSxHQUFmLFVBQWdCLElBQVksRUFBRSxFQUFVO1FBQXhDLGlCQU9DO1FBTkcsSUFBTSxhQUFhLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDekQsSUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDOUMsY0FBVSxHQUFJLG1CQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxhQUFhLENBQUMsV0FBeEMsQ0FBeUM7UUFDMUQsSUFBTSxVQUFVLDBDQUFPLG9CQUFTLENBQUMsV0FBVyxFQUFFLFVBQVUsQ0FBQyxDQUFDLE9BQU8sRUFBRSxLQUFFLFdBQVcsRUFBQyxDQUFDO1FBRWxGLE9BQU8sVUFBVSxDQUFDLEdBQUcsQ0FBQyxVQUFDLFNBQVMsSUFBSyxZQUFJLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FBQyxFQUEvQixDQUErQixDQUFDLENBQUM7SUFDMUUsQ0FBQztJQUVELDBDQUFvQixHQUFwQixVQUFxQixJQUFZO1FBQWpDLGlCQUVDO1FBREcsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxVQUFDLElBQUksSUFBSyxZQUFJLENBQUMsZUFBZSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBaEMsQ0FBZ0MsQ0FBQyxDQUFDO0lBQ2hGLENBQUM7SUFFRCxrQ0FBWSxHQUFaO1FBQ0ksT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQy9CLENBQUM7SUFDTCxrQkFBQztBQUFELENBQUM7QUEvQ1ksa0NBQVc7Ozs7Ozs7Ozs7Ozs7O0FDUHhCLFNBQWdCLFFBQVEsQ0FBQyxlQUFnQyxFQUFFLE1BQWM7SUFDckUsSUFBTSxjQUFjLEdBQUcsZUFBZSxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDM0QsSUFBTSxpQkFBaUIsR0FBYSxJQUFJLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLGdCQUFnQixFQUFFLENBQUMsRUFBRSxjQUFjLENBQUMsQ0FBQztJQUMvRyxJQUFNLEtBQUssR0FBYyxJQUFJLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxjQUFjLENBQUMsQ0FBQztJQUNsRixJQUFNLFVBQVUsR0FBYSxFQUFFLENBQUM7SUFDaEMsaUJBQWlCLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzlCLFVBQVUsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUV4QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsY0FBYyxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ3JDLElBQUksZ0JBQWdCLEdBQUcsTUFBTSxDQUFDLGdCQUFnQixDQUFDO1FBQy9DLElBQUksT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBRWpCLEtBQUssSUFBSSxXQUFXLEdBQUcsQ0FBQyxFQUFFLFdBQVcsR0FBRyxjQUFjLEVBQUUsV0FBVyxFQUFFLEVBQUU7WUFDbkUsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsSUFBSSxpQkFBaUIsQ0FBQyxXQUFXLENBQUMsR0FBRyxnQkFBZ0IsRUFBRTtnQkFDMUUsT0FBTyxHQUFHLFdBQVcsQ0FBQztnQkFDdEIsZ0JBQWdCLEdBQUcsaUJBQWlCLENBQUMsV0FBVyxDQUFDLENBQUM7YUFDckQ7U0FDSjtRQUVELEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxJQUFJLENBQUM7UUFFdEIsS0FBSyxJQUFJLFdBQVcsR0FBRyxDQUFDLEVBQUUsV0FBVyxHQUFHLGNBQWMsRUFBRSxXQUFXLEVBQUUsRUFBRTtZQUNuRSxJQUFJLFlBQVksR0FBRyxlQUFlLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxXQUFXLENBQUMsQ0FBQztZQUVqRSxJQUFJLFlBQVksR0FBRyxDQUFDLElBQUksZ0JBQWdCLEdBQUcsWUFBWSxHQUFHLGlCQUFpQixDQUFDLFdBQVcsQ0FBQyxFQUFFO2dCQUN0RixVQUFVLENBQUMsV0FBVyxDQUFDLEdBQUcsT0FBTyxDQUFDO2dCQUNsQyxpQkFBaUIsQ0FBQyxXQUFXLENBQUMsR0FBRyxnQkFBZ0IsR0FBRyxZQUFZLENBQUM7YUFDcEU7U0FDSjtLQUNKO0lBRUQsT0FBTyxFQUFDLGlCQUFpQixxQkFBRSxVQUFVLGNBQUMsQ0FBQztBQUMzQyxDQUFDO0FBaENELDRCQWdDQztBQUVELFNBQWdCLFNBQVMsQ0FBQyxhQUFxQixFQUFFLE9BQWlCLEVBQUUsV0FBMEI7SUFBMUIsOENBQTBCO0lBQzFGLElBQUksYUFBYSxLQUFLLENBQUMsQ0FBQyxFQUFFO1FBQ3RCLE9BQU8sV0FBVyxDQUFDO0tBQ3RCO1NBQU07UUFDSCxJQUFJLE9BQU8sQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRTtZQUMvQixXQUFXLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO1NBQzVDO1FBRUQsT0FBTyxTQUFTLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxFQUFFLE9BQU8sRUFBRSxXQUFXLENBQUMsQ0FBQztLQUNsRTtBQUNMLENBQUM7QUFWRCw4QkFVQzs7Ozs7Ozs7Ozs7Ozs7QUM5Q0Q7SUFFSSxnQkFBWSxRQUFlO1FBQ3ZCLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO0lBQzdCLENBQUM7SUFFRCw4QkFBYSxHQUFiO1FBQ0ksT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQztJQUNoQyxDQUFDO0lBRUQsaUNBQWdCLEdBQWhCLFVBQWlCLEdBQWU7UUFBZiw2QkFBZTtRQUM1QixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDO0lBQ3JDLENBQUM7SUFFRCwwQkFBUyxHQUFULFVBQVUsQ0FBUztRQUNmLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsVUFBQyxDQUFDLEVBQUUsUUFBUSxJQUFLLGVBQVEsS0FBSyxDQUFDLEVBQWQsQ0FBYyxDQUFDLENBQUM7UUFFdEUsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELDZCQUFZLEdBQVosVUFBYSxDQUFTO1FBQ2xCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsVUFBQyxHQUFHLElBQUssVUFBRyxDQUFDLE1BQU0sQ0FBQyxVQUFDLENBQUMsRUFBRSxLQUFLLElBQUssWUFBSyxLQUFLLENBQUMsRUFBWCxDQUFXLENBQUMsRUFBckMsQ0FBcUMsQ0FBQyxDQUFDO1FBRWxGLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCw0QkFBVyxHQUFYLFVBQVksQ0FBUyxFQUFFLENBQVM7UUFDNUIsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM3QyxDQUFDO0lBRUQsMkJBQVUsR0FBVixVQUFXLEdBQVcsRUFBRSxNQUFjLEVBQUUsSUFBTztRQUMzQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQztRQUVsQyxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsdUJBQU0sR0FBTixVQUFPLE1BQVc7UUFDZCxJQUFJLE1BQU0sQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLGdCQUFnQixFQUFFLEVBQUU7WUFDM0MsTUFBTSxLQUFLLENBQUMsd0JBQXdCLENBQUMsQ0FBQztTQUN6QztRQUVELElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7YUFDbkUsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7YUFDdEMsR0FBRyxDQUFDLFVBQUMsR0FBRyxFQUFFLENBQUMsSUFBSyxhQUFNLENBQUMsQ0FBQyxDQUFDLEVBQVQsQ0FBUyxDQUFDLENBQUM7UUFFaEMsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELDBCQUFTLEdBQVQsVUFBVSxNQUFXO1FBQXJCLGlCQVlDO1FBWEcsSUFBSSxNQUFNLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxhQUFhLEVBQUUsRUFBRTtZQUN4QyxNQUFNLEtBQUssQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO1NBQ3pDO1FBRUQsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxVQUFDLEdBQUcsRUFBRSxLQUFLO1lBQ3pDLEdBQUcsQ0FBQyxLQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFbEQsT0FBTyxHQUFHLENBQUM7UUFDZixDQUFDLENBQUMsQ0FBQztRQUVILE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCwyQkFBVSxHQUFWLFVBQVcsQ0FBUyxFQUFFLENBQVM7UUFDM0IsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFFRCxzQkFBSyxHQUFMO1FBQ0ksSUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsVUFBQyxHQUFHLElBQUssVUFBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBZixDQUFlLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFN0UsT0FBTyx5RUFBc0UsV0FBVywrQ0FBeUMsQ0FBQztJQUN0SSxDQUFDO0lBQ0wsYUFBQztBQUFELENBQUM7QUF2RVksd0JBQU07Ozs7Ozs7Ozs7Ozs7O0FDSW5CO0lBQUE7UUFDWSxnQkFBVyxHQUFpQixFQUFFLENBQUM7SUFhM0MsQ0FBQztJQVhVLDBCQUFTLEdBQWhCLFVBQWlCLEtBQWEsRUFBRSxRQUFrQjtRQUM5QyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDekIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDMUM7YUFBTTtZQUNILElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUN4QztJQUNMLENBQUM7SUFFTSx1QkFBTSxHQUFiLFVBQWlCLEtBQWEsRUFBRSxPQUFXO1FBQ3ZDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQUMsVUFBVSxJQUFLLGlCQUFVLENBQUMsT0FBTyxDQUFDLEVBQW5CLENBQW1CLENBQUMsQ0FBQztJQUN6RSxDQUFDO0lBQ0wsYUFBQztBQUFELENBQUM7QUFkWSx3QkFBTTs7Ozs7OztVQ0puQjtVQUNBOztVQUVBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBOztVQUVBO1VBQ0E7O1VBRUE7VUFDQTtVQUNBOzs7OztXQ3RCQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0EsZ0NBQWdDLFlBQVk7V0FDNUM7V0FDQSxFOzs7OztXQ1BBO1dBQ0E7V0FDQTtXQUNBO1dBQ0Esd0NBQXdDLHlDQUF5QztXQUNqRjtXQUNBO1dBQ0EsRTs7Ozs7V0NQQSx3Rjs7Ozs7V0NBQTtXQUNBO1dBQ0E7V0FDQSxzREFBc0Qsa0JBQWtCO1dBQ3hFO1dBQ0EsK0NBQStDLGNBQWM7V0FDN0QsRTs7Ozs7Ozs7Ozs7OztBQ05BLDhHQUF1RDtBQUN2RCxzRkFBdUM7QUFFdkMsMERBQXFCO0FBQ3JCLCtGQUE2QztBQUM3QyxpSEFBa0U7QUFFbEUsSUFBTSxJQUFJLEdBQUcsSUFBSSxXQUFJLEVBQUUsQ0FBQztBQUN4QixJQUFNLEtBQUssR0FBd0IsRUFBRSxDQUFDO0FBQ3RDLElBQU0sU0FBUyxHQUFHLElBQUksc0NBQXNCLEVBQUUsQ0FBQztBQUUvQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sRUFBRSxVQUFDLEtBQXdCOztJQUM3QyxJQUFJLFNBQVMsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxFQUFFO1FBQ2pDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7S0FDckI7U0FBTTtRQUNILEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0tBQzVCO0lBRUQsSUFBTSxJQUFJLEdBQUcsSUFBSSwyQkFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3JDLGNBQVEsQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLDBDQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQztJQUUzRCxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBRSxVQUFDLElBQVk7O1FBQ3JDLElBQU0sT0FBTyxHQUFHLElBQUksaUJBQU8sQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFFekMsY0FBUSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsMENBQUUsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDO0lBQ2xFLENBQUMsQ0FBQyxDQUFDO0FBQ1AsQ0FBQyxDQUFDLENBQUMiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcInRhYmxlIHtcXHJcXG4gICAgbWFyZ2luOiAyNXB4IDBweCAxMHB4IDBweDtcXHJcXG4gICAgZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XFxyXFxuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XFxyXFxuICAgIHdpZHRoOiA1MDBweDtcXHJcXG59XFxyXFxuXFxyXFxudGFibGUgdGQsXFxyXFxudGFibGUgdGgge1xcclxcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xcclxcbiAgICBwYWRkaW5nOiA4cHg7XFxyXFxufVxcclxcblxcclxcbnRhYmxlIHRyOm50aC1jaGlsZChldmVuKSB7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmMmYyZjI7XFxyXFxufVxcclxcblxcclxcbnRhYmxlIHRyOmhvdmVyIHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2RkZDtcXHJcXG59XFxyXFxuXFxyXFxudGFibGUgdGgge1xcclxcbiAgICBwYWRkaW5nLXRvcDogMTJweDtcXHJcXG4gICAgcGFkZGluZy1ib3R0b206IDEycHg7XFxyXFxuICAgIHRleHQtYWxpZ246IGxlZnQ7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwNGFhNmQ7XFxyXFxuICAgIGNvbG9yOiB3aGl0ZTtcXHJcXG59XFxyXFxuXFxyXFxuYnV0dG9uIHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzRjYWY1MDtcXHJcXG4gICAgYm9yZGVyOiBub25lO1xcclxcbiAgICBjb2xvcjogd2hpdGU7XFxyXFxuICAgIHBhZGRpbmc6IDE1cHggMzJweDtcXHJcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcclxcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxyXFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXHJcXG4gICAgZm9udC1zaXplOiAxNnB4O1xcclxcbiAgICBtYXJnaW46IDRweCAycHg7XFxyXFxufVxcclxcblxcclxcbmJ1dHRvbjpob3ZlciB7XFxyXFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXHJcXG59XFxyXFxuXFxyXFxuaW5wdXRbdHlwZT0ndGV4dCddLFxcclxcbnNlbGVjdCB7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICBwYWRkaW5nOiAxMnB4IDIwcHg7XFxyXFxuICAgIG1hcmdpbjogOHB4IDA7XFxyXFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXHJcXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcXHJcXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xcclxcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcclxcbn1cXHJcXG5cXHJcXG5pbnB1dFt0eXBlPSdudW1iZXInXSB7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICBwYWRkaW5nOiAxNHB4IDIwcHg7XFxyXFxuICAgIG1hcmdpbjogOHB4IDA7XFxyXFxuICAgIGJvcmRlcjogbm9uZTtcXHJcXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xcclxcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxyXFxufVxcclxcblxcclxcbmRpdiB7XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2YyZjJmMjtcXHJcXG59XFxyXFxuXFxyXFxuYm9keSB7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmMmYyZjI7XFxyXFxufVxcclxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9pbmRleC5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7SUFDSSx5QkFBeUI7SUFDekIseUNBQXlDO0lBQ3pDLHlCQUF5QjtJQUN6QixZQUFZO0FBQ2hCOztBQUVBOztJQUVJLHNCQUFzQjtJQUN0QixZQUFZO0FBQ2hCOztBQUVBO0lBQ0kseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksc0JBQXNCO0FBQzFCOztBQUVBO0lBQ0ksaUJBQWlCO0lBQ2pCLG9CQUFvQjtJQUNwQixnQkFBZ0I7SUFDaEIseUJBQXlCO0lBQ3pCLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsWUFBWTtJQUNaLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCLHFCQUFxQjtJQUNyQixxQkFBcUI7SUFDckIsZUFBZTtJQUNmLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxlQUFlO0FBQ25COztBQUVBOztJQUVJLFdBQVc7SUFDWCxrQkFBa0I7SUFDbEIsYUFBYTtJQUNiLHFCQUFxQjtJQUNyQixzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxrQkFBa0I7SUFDbEIsYUFBYTtJQUNiLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsZUFBZTtBQUNuQjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQix5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSx5QkFBeUI7QUFDN0JcIixcInNvdXJjZXNDb250ZW50XCI6W1widGFibGUge1xcclxcbiAgICBtYXJnaW46IDI1cHggMHB4IDEwcHggMHB4O1xcclxcbiAgICBmb250LWZhbWlseTogQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcXHJcXG4gICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcXHJcXG4gICAgd2lkdGg6IDUwMHB4O1xcclxcbn1cXHJcXG5cXHJcXG50YWJsZSB0ZCxcXHJcXG50YWJsZSB0aCB7XFxyXFxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XFxyXFxuICAgIHBhZGRpbmc6IDhweDtcXHJcXG59XFxyXFxuXFxyXFxudGFibGUgdHI6bnRoLWNoaWxkKGV2ZW4pIHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2YyZjJmMjtcXHJcXG59XFxyXFxuXFxyXFxudGFibGUgdHI6aG92ZXIge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGRkO1xcclxcbn1cXHJcXG5cXHJcXG50YWJsZSB0aCB7XFxyXFxuICAgIHBhZGRpbmctdG9wOiAxMnB4O1xcclxcbiAgICBwYWRkaW5nLWJvdHRvbTogMTJweDtcXHJcXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzA0YWE2ZDtcXHJcXG4gICAgY29sb3I6IHdoaXRlO1xcclxcbn1cXHJcXG5cXHJcXG5idXR0b24ge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNGNhZjUwO1xcclxcbiAgICBib3JkZXI6IG5vbmU7XFxyXFxuICAgIGNvbG9yOiB3aGl0ZTtcXHJcXG4gICAgcGFkZGluZzogMTVweCAzMnB4O1xcclxcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxyXFxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXHJcXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcclxcbiAgICBmb250LXNpemU6IDE2cHg7XFxyXFxuICAgIG1hcmdpbjogNHB4IDJweDtcXHJcXG59XFxyXFxuXFxyXFxuYnV0dG9uOmhvdmVyIHtcXHJcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcclxcbn1cXHJcXG5cXHJcXG5pbnB1dFt0eXBlPSd0ZXh0J10sXFxyXFxuc2VsZWN0IHtcXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxuICAgIHBhZGRpbmc6IDEycHggMjBweDtcXHJcXG4gICAgbWFyZ2luOiA4cHggMDtcXHJcXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcclxcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xcclxcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XFxyXFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxyXFxufVxcclxcblxcclxcbmlucHV0W3R5cGU9J251bWJlciddIHtcXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxuICAgIHBhZGRpbmc6IDE0cHggMjBweDtcXHJcXG4gICAgbWFyZ2luOiA4cHggMDtcXHJcXG4gICAgYm9yZGVyOiBub25lO1xcclxcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XFxyXFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXHJcXG59XFxyXFxuXFxyXFxuZGl2IHtcXHJcXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyO1xcclxcbn1cXHJcXG5cXHJcXG5ib2R5IHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2YyZjJmMjtcXHJcXG59XFxyXFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoY29udGVudCwgXCJ9XCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtb2R1bGVzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfaV0pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRpbnVlXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzJdID0gXCJcIi5jb25jYXQobWVkaWFRdWVyeSwgXCIgYW5kIFwiKS5jb25jYXQoaXRlbVsyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IHZhciBfaSA9IGFyciAmJiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBhcnJbU3ltYm9sLml0ZXJhdG9yXSB8fCBhcnJbXCJAQGl0ZXJhdG9yXCJdKTsgaWYgKF9pID09IG51bGwpIHJldHVybjsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfcywgX2U7IHRyeSB7IGZvciAoX2kgPSBfaS5jYWxsKGFycik7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pIHtcbiAgdmFyIF9pdGVtID0gX3NsaWNlZFRvQXJyYXkoaXRlbSwgNCksXG4gICAgICBjb250ZW50ID0gX2l0ZW1bMV0sXG4gICAgICBjc3NNYXBwaW5nID0gX2l0ZW1bM107XG5cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgXCJcIikuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiaW1wb3J0IGFwaSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgICAgICAgaW1wb3J0IGNvbnRlbnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9pbmRleC5jc3NcIjtcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgZGVmYXVsdCBjb250ZW50LmxvY2FscyB8fCB7fTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSAndW5kZWZpbmVkJykge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsImltcG9ydCB7V2VpZ2h0ZWRHcmFwaEl0ZW19IGZyb20gJy4uL2dyYXBoLWxpYi9DaXRpZXNHcmFwaCc7XHJcbmltcG9ydCB7UHViU3VifSBmcm9tICcuLi91dGlscy9QdWJTdWInO1xyXG5cclxuZXhwb3J0IGNvbnN0IGV4dHJhY3ROYW1lcyA9IChpdGVtczogV2VpZ2h0ZWRHcmFwaEl0ZW1bXSkgPT5cclxuICAgIFsuLi5uZXcgU2V0KFsuLi5pdGVtcy5tYXAoKGl0ZW0pID0+IGl0ZW0udG8pLCAuLi5pdGVtcy5tYXAoKGl0ZW0pID0+IGl0ZW0uZnJvbSldKV0uc29ydCgpO1xyXG5cclxuY29uc3QgZ2V0VGFibGVSb3cgPSAoaXRlbTogV2VpZ2h0ZWRHcmFwaEl0ZW0pID0+IGBcclxuICAgIDx0cj5cclxuICAgICAgICA8dGQ+JHtpdGVtLmZyb219PC90ZD5cclxuICAgICAgICA8dGQ+JHtpdGVtLnRvfTwvdGQ+XHJcbiAgICAgICAgPHRkPiR7aXRlbS53ZWlnaHR9PC90ZD5cclxuICAgIDwvdHI+XHJcbmA7XHJcblxyXG5jb25zdCBnZXRDb21ib2JveFJvdyA9IChpdGVtczogc3RyaW5nW10pID0+IGBcclxuICAgIDxkaXYgc3R5bGU9XCJ3aWR0aDogNTAwcHhcIj5cclxuICAgICAgICA8bGFiZWw+0J7QsdGH0LjRgdC70LjQuCDQvdCw0LnQutC+0YDQvtGC0YjRliDQstGW0LTRgdGC0LDQvdGWINC00L4g0LzRltGB0YLQsDwvbGFiZWw+XHJcbiAgICAgICAgPHNlbGVjdCBpZD1cInRvQ2l0eVwiPlxyXG4gICAgICAgICAgICAke2l0ZW1zLm1hcCgoY2l0eSkgPT4gYDxvcHRpb24+JHtjaXR5fTwvb3B0aW9uPmApfVxyXG4gICAgICAgIDwvc2VsZWN0PlxyXG4gICAgPC9kaXY+XHJcbmA7XHJcblxyXG5leHBvcnQgY2xhc3MgRWxlbWVudHNMaXN0IGV4dGVuZHMgUHViU3ViIHtcclxuICAgIHByaXZhdGUgY2hvc2VuQ2l0eTogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgbGlzdDogV2VpZ2h0ZWRHcmFwaEl0ZW1bXSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuY2hvc2VuQ2l0eSA9IGV4dHJhY3ROYW1lcyhsaXN0KVswXTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldCBzdWJtaXRCdXR0b24oKSB7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYWxjdWxhdGUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldCB0b0NpdHlFbGVtZW50KCkge1xyXG4gICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9DaXR5Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRUZW1wbGF0ZSgpIHtcclxuICAgICAgICByZXR1cm4gYFxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPVwibWFyZ2luLWxlZnQ6IDIwcHhcIj5cclxuICAgICAgICAgICAgICAgIDx0YWJsZT5cclxuICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGg+0JfQstGW0LTQutC4PC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0aD7QlNC+PC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0aD7QktCw0YDRgtGW0YHRgtGMPC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgICR7dGhpcy5saXN0Lm1hcChnZXRUYWJsZVJvdykuam9pbignJyl9XHJcbiAgICAgICAgICAgICAgICA8L3RhYmxlPlxyXG5cclxuICAgICAgICAgICAgICAgICR7Z2V0Q29tYm9ib3hSb3coZXh0cmFjdE5hbWVzKHRoaXMubGlzdCkpfVxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImNhbGN1bGF0ZVwiPtCe0LHRh9C40YHQu9C40YLQuDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj4gIFxyXG4gICAgICAgIGA7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdWJzY3JpYmVUb0ludGVybmFsRXZlbnRzKCkge1xyXG4gICAgICAgIHRoaXMudG9DaXR5RWxlbWVudD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2hhbmdlZCk7XHJcbiAgICAgICAgdGhpcy5zdWJtaXRCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vblN1Ym1pdHRlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1blN1YnNjcmliZUZyb21JbnRlcm5hbEV2ZW50cygpIHtcclxuICAgICAgICB0aGlzLnRvQ2l0eUVsZW1lbnQ/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNoYW5nZWQpO1xyXG4gICAgICAgIHRoaXMuc3VibWl0QnV0dG9uPy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25TdWJtaXR0ZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25DaGFuZ2VkID0gKGU6IEV2ZW50KSA9PiB7XHJcbiAgICAgICAgdGhpcy5jaG9zZW5DaXR5ID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIG9uU3VibWl0dGVkID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMubm90aWZ5KCdzdWJtaXR0ZWQnLCB0aGlzLmNob3NlbkNpdHkpO1xyXG4gICAgfTtcclxuXHJcbiAgICBnZXRFbGVtZW50KCkge1xyXG4gICAgICAgIHRoaXMudW5TdWJzY3JpYmVGcm9tSW50ZXJuYWxFdmVudHMoKTtcclxuICAgICAgICBjb25zdCByb290RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgICAgICByb290RWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLmdldFRlbXBsYXRlKCk7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnN1YnNjcmliZVRvSW50ZXJuYWxFdmVudHMoKSwgMCk7XHJcblxyXG4gICAgICAgIHJldHVybiByb290RWxlbWVudDtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge0NJVElFU30gZnJvbSAnLi4vY29uc3RhbnRzL2NpdGllcyc7XHJcbmltcG9ydCB7UHViU3VifSBmcm9tICcuLi91dGlscy9QdWJTdWInO1xyXG5cclxuY29uc3QgaW5pdGlhbFN0YXRlID0ge1xyXG4gICAgZnJvbTogQ0lUSUVTWzBdLFxyXG4gICAgdG86IENJVElFU1sxXSxcclxuICAgIHdlaWdodDogMCxcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBGb3JtIGV4dGVuZHMgUHViU3ViIHtcclxuICAgIGludGVybmFsU3RhdGUgPSB7XHJcbiAgICAgICAgLi4uaW5pdGlhbFN0YXRlLFxyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIGdldCByb290RWxlbWVudCgpIHtcclxuICAgICAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldCBmcm9tRWxlbWVudCgpIHtcclxuICAgICAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zyb20nKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldCB0b0VsZW1lbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0bycpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0IHdlaWdodEVsZW1lbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3ZWlnaHQnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldCBhZGRCdXR0b24oKSB7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRCdXR0b24nKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFRlbXBsYXRlKCkge1xyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgICA8ZGl2IHN0eWxlPVwibWFyZ2luLWxlZnQ6IDIwcHg7IHdpZHRoOiA1MDBweFwiPlxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgIDxsYWJlbD7QktC40LHRgNCw0YLQuCDQv9C10YDRiNC1INC80ZbRgdGC0L4g0L/QsNGA0Lg8L2xhYmVsPlxyXG4gICAgICAgICAgICAgIDxzZWxlY3QgaWQ9XCJmcm9tXCI+XHJcbiAgICAgICAgICAgICAgJHtDSVRJRVMubWFwKChjaXR5KSA9PiBgPG9wdGlvbj4ke2NpdHl9PC9vcHRpb24+YCl9XHJcbiAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgIDxsYWJlbD7QktC40LHRgNCw0YLQuCDQtNGA0YPQs9C1INC80ZbRgdGC0L4g0L/QsNGA0Lg8L2xhYmVsPlxyXG4gICAgICAgICAgICAgIDxzZWxlY3QgaWQ9XCJ0b1wiPlxyXG4gICAgICAgICAgICAgICR7Q0lUSUVTLm1hcCgoY2l0eSwgaSkgPT4gYDxvcHRpb24gICR7aSA9PT0gMSA/ICdzZWxlY3RlZCcgOiAnJ30+JHtjaXR5fTwvb3B0aW9uPmApfVxyXG4gICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICA8bGFiZWw+0JLQstC10YHRgtC4INGG0ZbQvdGDPC9sYWJlbD5cclxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIGlkPVwid2VpZ2h0XCIgdmFsdWU9XCIke3RoaXMuaW50ZXJuYWxTdGF0ZS53ZWlnaHR9XCI+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImFkZEJ1dHRvblwiPtCU0L7QtNCw0YLQuCDQvdC+0LLQuNC5INC80LDRgNGI0YDRg9GCPC9idXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5gO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3Vic2NyaWJlVG9JbnRlcm5hbEV2ZW50cygpIHtcclxuICAgICAgICB0aGlzLmZyb21FbGVtZW50Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLm9uQ2hhbmdlZCk7XHJcbiAgICAgICAgdGhpcy50b0VsZW1lbnQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMub25DaGFuZ2VkKTtcclxuICAgICAgICB0aGlzLndlaWdodEVsZW1lbnQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMub25DaGFuZ2VkKTtcclxuICAgICAgICB0aGlzLmFkZEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQWRkQnV0dG9uQ2xpY2spO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdW5TdWJzY3JpYmVGcm9tSW50ZXJuYWxFdmVudHMoKSB7XHJcbiAgICAgICAgdGhpcy5mcm9tRWxlbWVudD8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5vbkNoYW5nZWQpO1xyXG4gICAgICAgIHRoaXMudG9FbGVtZW50Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLm9uQ2hhbmdlZCk7XHJcbiAgICAgICAgdGhpcy53ZWlnaHRFbGVtZW50Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLm9uQ2hhbmdlZCk7XHJcbiAgICAgICAgdGhpcy5hZGRCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkFkZEJ1dHRvbkNsaWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uQ2hhbmdlZCA9IChlOiBFdmVudCkgPT4ge1xyXG4gICAgICAgIHR5cGUgS2V5ID0gJ2Zyb20nIHwgJ3RvJyB8ICd3ZWlnaHQnO1xyXG4gICAgICAgIGNvbnN0IGlkRWxlbSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS5pZCBhcyBLZXk7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcbiAgICAgICAgY29uc3QgZm9ybVZhbHVlID0gaWRFbGVtID09PSAnd2VpZ2h0JyA/IE51bWJlcih2YWx1ZSkgOiB2YWx1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnRlcm5hbFN0YXRlID0ge1xyXG4gICAgICAgICAgICAuLi50aGlzLmludGVybmFsU3RhdGUsXHJcbiAgICAgICAgICAgIFtpZEVsZW1dOiBmb3JtVmFsdWUsXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBvbkFkZEJ1dHRvbkNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMudW5TdWJzY3JpYmVGcm9tSW50ZXJuYWxFdmVudHMoKTtcclxuICAgICAgICBjb25zdCBwYXlsb2FkID0gey4uLnRoaXMuaW50ZXJuYWxTdGF0ZX07XHJcbiAgICAgICAgdGhpcy5pbnRlcm5hbFN0YXRlID0gey4uLmluaXRpYWxTdGF0ZX07XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICAgICAgdGhpcy5ub3RpZnkoJ2FkZGVkJywgcGF5bG9hZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucm9vdEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5yb290RWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLmdldFRlbXBsYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlVG9JbnRlcm5hbEV2ZW50cygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge0NpdGllc0dyYXBoLCBXZWlnaHRlZEdyYXBoSXRlbX0gZnJvbSAnLi4vZ3JhcGgtbGliL0NpdGllc0dyYXBoJztcclxuaW1wb3J0IHtQdWJTdWJ9IGZyb20gJy4uL3V0aWxzL1B1YlN1Yic7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRhYmxlRGF0YSB7XHJcbiAgICBkaXN0YW5jZTogbnVtYmVyO1xyXG4gICAgcGF0aDogc3RyaW5nW107XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBSZXN1bHRzIGV4dGVuZHMgUHViU3ViIHtcclxuICAgIHByaXZhdGUgZ3JhcGg6IENpdGllc0dyYXBoO1xyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBjaG9zZW5DaXR5OiBzdHJpbmcsIHByaXZhdGUgaXRlbXM6IFdlaWdodGVkR3JhcGhJdGVtW10pIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICB0aGlzLmdyYXBoID0gbmV3IENpdGllc0dyYXBoKGl0ZW1zKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcm9vdEVsZW1lbnQoKSB7XHJcbiAgICAgICAgY29uc3Qgcm9vdEVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdWx0Jyk7XHJcblxyXG4gICAgICAgIGlmIChyb290RWxlbSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcm9vdEVsZW07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3Qgcm9vdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgcm9vdEVsZW1lbnQuc2V0QXR0cmlidXRlKCdpZCcsICdyZXN1bHQnKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiByb290RWxlbWVudDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRUZW1wbGF0ZSgpIHtcclxuICAgICAgICBjb25zdCB0YWJsZURhdGEgPSB0aGlzLmdldFRhYmxlRGF0YSgpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGFibGVEYXRhLmxlbmd0aCAhPT0gMFxyXG4gICAgICAgICAgICA/IGBcclxuICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwibWFyZ2luOiAyMHB4XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2PtCc0LDRgtGA0LjRhtGPPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICR7dGhpcy5ncmFwaC5nZXRHcmFwaFZpZXcoKX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPHNwYW4+0KLQsNCx0LvQuNGG0Y8g0LLQsNGA0YLQvtGB0YLRliDRliDQvdCw0LnQutC+0YDQvtGC0YjQuNGFINC80LDRgNGI0YDRg9GC0ZbQsiDQtNC70Y8gJHt0aGlzLmNob3NlbkNpdHl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPHRhYmxlPlxyXG4gICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRoPtCc0LDRgNGI0YDRg9GCPC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8dGg+0JLQsNGA0YLRltGB0YLRjDwvdGg+XHJcbiAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICR7dGhpcy5nZXRUYWJsZVJvdyh0YWJsZURhdGEpfVxyXG4gICAgICAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICAgICAgICA8L2Rpdj5gXHJcbiAgICAgICAgICAgIDogYDxkaXYgc3R5bGU9XCJtYXJnaW46IDIwcHhcIj7QndC10LrQvtGA0LXQutGC0L3QviDRgdC60LvQsNC00LXQvdC40Lkg0LPRgNCw0YQ8L2Rpdj5gO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0VGFibGVSb3codGFibGVEYXRhOiBUYWJsZURhdGFbXSkge1xyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgICAke3RhYmxlRGF0YVxyXG4gICAgICAgICAgICAgIC5maWx0ZXIoKGRhdGEpID0+IGRhdGEuZGlzdGFuY2UgPiAwKVxyXG4gICAgICAgICAgICAgIC5tYXAoXHJcbiAgICAgICAgICAgICAgICAgIChkYXRhKSA9PiBgXHJcbiAgICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2RhdGEucGF0aC5qb2luKCcgLSAnKX08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtkYXRhLmRpc3RhbmNlfTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICBgXHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgYDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRUYWJsZURhdGEoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgZGlzdGFuY2VzID0gdGhpcy5ncmFwaC5nZXRTaG9ydGVzdERpc3RhbmNlc0Zyb20odGhpcy5jaG9zZW5DaXR5KTtcclxuICAgICAgICAgICAgY29uc3QgcGF0aGVzID0gdGhpcy5ncmFwaC5nZXRBbGxTaG9ydGVzdFBhdGhlcyh0aGlzLmNob3NlbkNpdHkpO1xyXG4gICAgICAgICAgICBjb25zdCB0YWJsZURhdGE6IFRhYmxlRGF0YVtdID0gW107XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpc3RhbmNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGFibGVEYXRhLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlOiBkaXN0YW5jZXNbaV0sXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogcGF0aGVzW2ldLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0YWJsZURhdGE7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgYWxlcnQoJ9Cd0LXQutC+0YDQtdC60YLQvdC+INGB0LrQu9Cw0LTQtdC90LjQuSDQs9GA0LDRhCwg0LzQvtC20LvQuNCy0L4gXCLQvtGB0YLRgNGW0LJcIiDQv9GA0LjRgdGD0YLQvdGW0LknKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RWxlbWVudCgpIHtcclxuICAgICAgICBjb25zdCByb290RWxlbWVudCA9IHRoaXMucm9vdEVsZW1lbnQ7XHJcbiAgICAgICAgcm9vdEVsZW1lbnQuaW5uZXJIVE1MID0gdGhpcy5nZXRUZW1wbGF0ZSgpO1xyXG5cclxuICAgICAgICByZXR1cm4gcm9vdEVsZW1lbnQ7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtXZWlnaHRlZEdyYXBoSXRlbX0gZnJvbSAnLi4vZ3JhcGgtbGliL0NpdGllc0dyYXBoJztcclxuXHJcbmV4cG9ydCBjbGFzcyBXZWlnaHRlZEdyYXBoVmFsaWRhdG9yIHtcclxuICAgIHByaXZhdGUgaXNOb3RUaGVTYW1lKGl0ZW06IFdlaWdodGVkR3JhcGhJdGVtKSB7XHJcbiAgICAgICAgcmV0dXJuIGl0ZW0uZnJvbSAhPT0gaXRlbS50bztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzRWxlbWVudEFscmVhZHlFeGlzdHMoaXRlbTogV2VpZ2h0ZWRHcmFwaEl0ZW0sIHN0YXRlOiBXZWlnaHRlZEdyYXBoSXRlbVtdKSB7XHJcbiAgICAgICAgcmV0dXJuIHN0YXRlLnNvbWUoXHJcbiAgICAgICAgICAgIChzdGF0ZUl0ZW0pID0+XHJcbiAgICAgICAgICAgICAgICAoc3RhdGVJdGVtLnRvID09PSBpdGVtLnRvICYmIHN0YXRlSXRlbS5mcm9tID09PSBpdGVtLmZyb20pIHx8XHJcbiAgICAgICAgICAgICAgICAoc3RhdGVJdGVtLnRvID09PSBpdGVtLmZyb20gJiYgc3RhdGVJdGVtLmZyb20gPT09IGl0ZW0udG8pXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBpc1ZhbGlkKGl0ZW06IFdlaWdodGVkR3JhcGhJdGVtLCBzdGF0ZTogV2VpZ2h0ZWRHcmFwaEl0ZW1bXSkge1xyXG4gICAgICAgIHJldHVybiBpdGVtLndlaWdodCA+IDAgJiYgIXRoaXMuaXNFbGVtZW50QWxyZWFkeUV4aXN0cyhpdGVtLCBzdGF0ZSkgJiYgdGhpcy5pc05vdFRoZVNhbWUoaXRlbSk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IENJVElFUyA9IFsn0JvRjNCy0ZbQsicsICfQntC00LXRgdCwJywgJ9Ca0LjRl9CyJywgJ9Cl0LDRgNC60ZbQsicsICfQotC10YDQvdC+0L/RltC70YwnLCAn0JTQvdGW0L/RgNC+JywgJ9Cg0ZbQstC90LUnLCAn0KPQttCz0L7RgNC+0LQnXTtcclxuIiwiaW1wb3J0IHtNYXRyaXh9IGZyb20gJy4uL3V0aWxzL01hdHJpeCc7XHJcblxyXG5leHBvcnQgY2xhc3MgQWRqYWNlbmN5TWF0cml4IHtcclxuICAgIHByb3RlY3RlZCBtYXRyaXg6IE1hdHJpeDxudW1iZXI+O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG1hdHJpeD86IE1hdHJpeDxudW1iZXI+KSB7XHJcbiAgICAgICAgdGhpcy5tYXRyaXggPSBtYXRyaXggPyBtYXRyaXggOiBuZXcgTWF0cml4PG51bWJlcj4oW1swXV0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZFZlcnRleCgpIHtcclxuICAgICAgICBjb25zdCByb3dWYWx1ZXMgPSBuZXcgQXJyYXkodGhpcy5tYXRyaXguZ2V0Q29sdW1uc0Ftb3VudCgpKS5maWxsKDAsIDAsIHRoaXMubWF0cml4LmdldENvbHVtbnNBbW91bnQoKSk7XHJcbiAgICAgICAgdGhpcy5tYXRyaXguYWRkUm93KHJvd1ZhbHVlcyk7XHJcbiAgICAgICAgY29uc3QgY29sdW1uVmFsdWVzID0gbmV3IEFycmF5KHRoaXMubWF0cml4LmdldFJvd3NBbW91bnQoKSkuZmlsbCgwLCAwLCB0aGlzLm1hdHJpeC5nZXRSb3dzQW1vdW50KCkpO1xyXG4gICAgICAgIHRoaXMubWF0cml4LmFkZENvbHVtbihjb2x1bW5WYWx1ZXMpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBhZGRWZXJ0ZXhUaW1lcyh0aW1lczogbnVtYmVyKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aW1lczsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkVmVydGV4KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVWZXJ0ZXgoaTogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKGkgPCAwIHx8IGkgPiB0aGlzLm1hdHJpeC5nZXRSb3dzQW1vdW50KCkgLSAxKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCd2ZXJ0ZXggZG9lcyBub3QgZXhpc3QnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm1hdHJpeC5yZW1vdmVMaW5lcyhpLCBpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZEVkZ2UoaTogbnVtYmVyLCBqOiBudW1iZXIsIHdlaWdodDogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKGkgPT09IGopIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ3RoZSBzYW1lIHZlcnRleCcpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaSA+IHRoaXMubWF0cml4LmdldFJvd3NBbW91bnQoKSAtIDEgfHwgaiA+IHRoaXMubWF0cml4LmdldENvbHVtbnNBbW91bnQoKSAtIDEpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ3ZlcnRleCBkb2VzIG5vdCBleGlzdCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5tYXRyaXguY2hhbmdlRWxlbShpLCBqLCB3ZWlnaHQpO1xyXG4gICAgICAgIHRoaXMubWF0cml4LmNoYW5nZUVsZW0oaiwgaSwgd2VpZ2h0KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlRWRnZShpOiBudW1iZXIsIGo6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMubWF0cml4LmNoYW5nZUVsZW0oaSwgaiwgMCk7XHJcbiAgICAgICAgdGhpcy5tYXRyaXguY2hhbmdlRWxlbShqLCBpLCAwKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RWRnZShpOiBudW1iZXIsIGo6IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1hdHJpeC5nZXRFbGVtZW50KGksIGopO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFZlcnRpY2VzQW1vdW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1hdHJpeC5nZXRDb2x1bW5zQW1vdW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4LnByaW50KCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtBZGphY2VuY3lNYXRyaXh9IGZyb20gJy4vQWRqYWNlbmN5TWF0cml4JztcclxuaW1wb3J0IHtkaWprc3RyYSwgcHJpbnRQYXRofSBmcm9tICcuL2RpamtzdHJhJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgV2VpZ2h0ZWRHcmFwaEl0ZW0ge1xyXG4gICAgZnJvbTogc3RyaW5nO1xyXG4gICAgdG86IHN0cmluZztcclxuICAgIHdlaWdodDogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2l0aWVzR3JhcGgge1xyXG4gICAgcHJvdGVjdGVkIHJlZ2lzdGVyZWROYW1lczogc3RyaW5nW107XHJcbiAgICBwcm90ZWN0ZWQgbWF0cml4ID0gbmV3IEFkamFjZW5jeU1hdHJpeCgpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGVkZ2VzOiBXZWlnaHRlZEdyYXBoSXRlbVtdKSB7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlcmVkTmFtZXMgPSB0aGlzLmdldFJlZ2lzdGVyZWROYW1lcyhlZGdlcyk7XHJcbiAgICAgICAgdGhpcy5mb3JtTWF0cml4KGVkZ2VzKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFJlZ2lzdGVyZWROYW1lcyhpdGVtczogV2VpZ2h0ZWRHcmFwaEl0ZW1bXSkge1xyXG4gICAgICAgIHJldHVybiBbLi4ubmV3IFNldChbLi4uaXRlbXMubWFwKChpdGVtKSA9PiBpdGVtLnRvKSwgLi4uaXRlbXMubWFwKChpdGVtKSA9PiBpdGVtLmZyb20pXSldLnNvcnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGZvcm1NYXRyaXgoZWRnZXM6IFdlaWdodGVkR3JhcGhJdGVtW10pIHtcclxuICAgICAgICB0aGlzLm1hdHJpeC5hZGRWZXJ0ZXhUaW1lcyh0aGlzLnJlZ2lzdGVyZWROYW1lcy5sZW5ndGggLSAxKTtcclxuXHJcbiAgICAgICAgZWRnZXMuZm9yRWFjaCgoZWRnZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBmcm9tSW5kZXggPSB0aGlzLnJlZ2lzdGVyZWROYW1lcy5pbmRleE9mKGVkZ2UuZnJvbSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvSW5kZXggPSB0aGlzLnJlZ2lzdGVyZWROYW1lcy5pbmRleE9mKGVkZ2UudG8pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5tYXRyaXguYWRkRWRnZShmcm9tSW5kZXgsIHRvSW5kZXgsIGVkZ2Uud2VpZ2h0KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTaG9ydGVzdERpc3RhbmNlc0Zyb20oY2l0eTogc3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgY2l0eUluZGV4ID0gdGhpcy5yZWdpc3RlcmVkTmFtZXMuaW5kZXhPZihjaXR5KTtcclxuICAgICAgICBjb25zdCB7c2hvcnRlc3REaXN0YW5jZXN9ID0gZGlqa3N0cmEodGhpcy5tYXRyaXgsIGNpdHlJbmRleCk7XHJcblxyXG4gICAgICAgIHJldHVybiBzaG9ydGVzdERpc3RhbmNlcztcclxuICAgIH1cclxuXHJcbiAgICBnZXRTaG9ydGVzdFBhdGgoZnJvbTogc3RyaW5nLCB0bzogc3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgZnJvbUNpdHlJbmRleCA9IHRoaXMucmVnaXN0ZXJlZE5hbWVzLmluZGV4T2YoZnJvbSk7XHJcbiAgICAgICAgY29uc3QgdG9DaXR5SW5kZXggPSB0aGlzLnJlZ2lzdGVyZWROYW1lcy5pbmRleE9mKHRvKTtcclxuICAgICAgICBjb25zdCB7cGFyZW50UGF0aH0gPSBkaWprc3RyYSh0aGlzLm1hdHJpeCwgZnJvbUNpdHlJbmRleCk7XHJcbiAgICAgICAgY29uc3QgY2l0aWVzTGlzdCA9IFsuLi5wcmludFBhdGgodG9DaXR5SW5kZXgsIHBhcmVudFBhdGgpLnJldmVyc2UoKSwgdG9DaXR5SW5kZXhdO1xyXG5cclxuICAgICAgICByZXR1cm4gY2l0aWVzTGlzdC5tYXAoKGNpdHlJbmRleCkgPT4gdGhpcy5yZWdpc3RlcmVkTmFtZXNbY2l0eUluZGV4XSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QWxsU2hvcnRlc3RQYXRoZXMoZnJvbTogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVnaXN0ZXJlZE5hbWVzLm1hcCgoY2l0eSkgPT4gdGhpcy5nZXRTaG9ydGVzdFBhdGgoZnJvbSwgY2l0eSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEdyYXBoVmlldygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tYXRyaXgucHJpbnQoKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge0FkamFjZW5jeU1hdHJpeH0gZnJvbSAnLi9BZGphY2VuY3lNYXRyaXgnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRpamtzdHJhKGFkamFjZW5jeU1hdHJpeDogQWRqYWNlbmN5TWF0cml4LCB2ZXJ0ZXg6IG51bWJlcikge1xyXG4gICAgY29uc3QgdmVydGljZXNBbW91bnQgPSBhZGphY2VuY3lNYXRyaXguZ2V0VmVydGljZXNBbW91bnQoKTtcclxuICAgIGNvbnN0IHNob3J0ZXN0RGlzdGFuY2VzOiBudW1iZXJbXSA9IG5ldyBBcnJheSh2ZXJ0aWNlc0Ftb3VudCkuZmlsbChOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiwgMCwgdmVydGljZXNBbW91bnQpO1xyXG4gICAgY29uc3QgYWRkZWQ6IGJvb2xlYW5bXSA9IG5ldyBBcnJheSh2ZXJ0aWNlc0Ftb3VudCkuZmlsbChmYWxzZSwgMCwgdmVydGljZXNBbW91bnQpO1xyXG4gICAgY29uc3QgcGFyZW50UGF0aDogbnVtYmVyW10gPSBbXTtcclxuICAgIHNob3J0ZXN0RGlzdGFuY2VzW3ZlcnRleF0gPSAwO1xyXG4gICAgcGFyZW50UGF0aFt2ZXJ0ZXhdID0gLTE7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCB2ZXJ0aWNlc0Ftb3VudDsgaSsrKSB7XHJcbiAgICAgICAgbGV0IHNob3J0ZXN0RGlzdGFuY2UgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcclxuICAgICAgICBsZXQgbmVhcmVzdCA9IC0xO1xyXG5cclxuICAgICAgICBmb3IgKGxldCB2ZXJ0ZXhJbmRleCA9IDA7IHZlcnRleEluZGV4IDwgdmVydGljZXNBbW91bnQ7IHZlcnRleEluZGV4KyspIHtcclxuICAgICAgICAgICAgaWYgKCFhZGRlZFt2ZXJ0ZXhJbmRleF0gJiYgc2hvcnRlc3REaXN0YW5jZXNbdmVydGV4SW5kZXhdIDwgc2hvcnRlc3REaXN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgbmVhcmVzdCA9IHZlcnRleEluZGV4O1xyXG4gICAgICAgICAgICAgICAgc2hvcnRlc3REaXN0YW5jZSA9IHNob3J0ZXN0RGlzdGFuY2VzW3ZlcnRleEluZGV4XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYWRkZWRbbmVhcmVzdF0gPSB0cnVlO1xyXG5cclxuICAgICAgICBmb3IgKGxldCB2ZXJ0ZXhJbmRleCA9IDA7IHZlcnRleEluZGV4IDwgdmVydGljZXNBbW91bnQ7IHZlcnRleEluZGV4KyspIHtcclxuICAgICAgICAgICAgbGV0IGVkZ2VEaXN0YW5jZSA9IGFkamFjZW5jeU1hdHJpeC5nZXRFZGdlKG5lYXJlc3QsIHZlcnRleEluZGV4KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChlZGdlRGlzdGFuY2UgPiAwICYmIHNob3J0ZXN0RGlzdGFuY2UgKyBlZGdlRGlzdGFuY2UgPCBzaG9ydGVzdERpc3RhbmNlc1t2ZXJ0ZXhJbmRleF0pIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudFBhdGhbdmVydGV4SW5kZXhdID0gbmVhcmVzdDtcclxuICAgICAgICAgICAgICAgIHNob3J0ZXN0RGlzdGFuY2VzW3ZlcnRleEluZGV4XSA9IHNob3J0ZXN0RGlzdGFuY2UgKyBlZGdlRGlzdGFuY2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtzaG9ydGVzdERpc3RhbmNlcywgcGFyZW50UGF0aH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwcmludFBhdGgoY3VycmVudFZlcnRleDogbnVtYmVyLCBwYXJlbnRzOiBudW1iZXJbXSwgY3VycmVudFBhdGg6IG51bWJlcltdID0gW10pOiBudW1iZXJbXSB7XHJcbiAgICBpZiAoY3VycmVudFZlcnRleCA9PT0gLTEpIHtcclxuICAgICAgICByZXR1cm4gY3VycmVudFBhdGg7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChwYXJlbnRzW2N1cnJlbnRWZXJ0ZXhdICE9PSAtMSkge1xyXG4gICAgICAgICAgICBjdXJyZW50UGF0aC5wdXNoKHBhcmVudHNbY3VycmVudFZlcnRleF0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHByaW50UGF0aChwYXJlbnRzW2N1cnJlbnRWZXJ0ZXhdLCBwYXJlbnRzLCBjdXJyZW50UGF0aCk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIE1hdHJpeDxUPiB7XHJcbiAgICBwcm90ZWN0ZWQgZWxlbWVudHM6IFRbXVtdO1xyXG4gICAgY29uc3RydWN0b3IoZWxlbWVudHM6IFRbXVtdKSB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IGVsZW1lbnRzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFJvd3NBbW91bnQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50cy5sZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q29sdW1uc0Ftb3VudChyb3c6IG51bWJlciA9IDApOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzW3Jvd10ubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZVJvdyhpOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnRzID0gdGhpcy5lbGVtZW50cy5maWx0ZXIoKF8sIHJvd0luZGV4KSA9PiByb3dJbmRleCAhPT0gaSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUNvbHVtbihpOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnRzID0gdGhpcy5lbGVtZW50cy5tYXAoKHJvdykgPT4gcm93LmZpbHRlcigoXywgaW5kZXgpID0+IGluZGV4ICE9PSBpKSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUxpbmVzKGk6IG51bWJlciwgajogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlUm93KGkpLnJlbW92ZUNvbHVtbihqKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGFuZ2VFbGVtKHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlciwgZWxlbTogVCkge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudHNbcm93XVtjb2x1bW5dID0gZWxlbTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkUm93KHZhbHVlczogVFtdKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggIT09IHRoaXMuZ2V0Q29sdW1uc0Ftb3VudCgpKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCd3cm9uZyBudW1iZXIgb2YgdmFsdWVzJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmVsZW1lbnRzW3RoaXMuZ2V0Um93c0Ftb3VudCgpXSA9IG5ldyBBcnJheSh0aGlzLmdldENvbHVtbnNBbW91bnQoKSlcclxuICAgICAgICAgICAgLmZpbGwobnVsbCwgMCwgdGhpcy5nZXRDb2x1bW5zQW1vdW50KCkpXHJcbiAgICAgICAgICAgIC5tYXAoKF9lbCwgaSkgPT4gdmFsdWVzW2ldKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkQ29sdW1uKHZhbHVlczogVFtdKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggIT09IHRoaXMuZ2V0Um93c0Ftb3VudCgpKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCd3cm9uZyBudW1iZXIgb2YgdmFsdWVzJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmVsZW1lbnRzID0gdGhpcy5lbGVtZW50cy5tYXAoKHJvdywgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgcm93W3RoaXMuZ2V0Q29sdW1uc0Ftb3VudChpbmRleCldID0gdmFsdWVzW2luZGV4XTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiByb3c7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEVsZW1lbnQoaTogbnVtYmVyLCBqOiBudW1iZXIpOiBUIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50c1tpXVtqXTtcclxuICAgIH1cclxuXHJcbiAgICBwcmludCgpIHtcclxuICAgICAgICBjb25zdCBtYXRyaXhMYXRleCA9IHRoaXMuZWxlbWVudHMubWFwKChyb3cpID0+IHJvdy5qb2luKCcgJiAnKSkuam9pbihgXFxcXFxcXFxgKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGA8aW1nIHNyYz1cImh0dHBzOi8vbGF0ZXguY29kZWNvZ3MuY29tL2dpZi5sYXRleD9BID0gXFxcXGJlZ2lue3BtYXRyaXh9JHttYXRyaXhMYXRleH1cXFxcZW5ke3BtYXRyaXh9XCIgdGl0bGU9XCJTYWxkYW4gUm9tYW5cIiAvPmA7XHJcbiAgICB9XHJcbn1cclxuIiwiaW50ZXJmYWNlIElTdWJzY3JpYmVycyB7XHJcbiAgICBba2V5OiBzdHJpbmddOiBGdW5jdGlvbltdO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUHViU3ViIHtcclxuICAgIHByaXZhdGUgc3Vic2NyaWJlcnM6IElTdWJzY3JpYmVycyA9IHt9O1xyXG5cclxuICAgIHB1YmxpYyBzdWJzY3JpYmUoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3Vic2NyaWJlcnNbZXZlbnRdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlcnNbZXZlbnRdLnB1c2goY2FsbGJhY2spO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlcnNbZXZlbnRdID0gW2NhbGxiYWNrXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG5vdGlmeTxUPihldmVudDogc3RyaW5nLCBkZXRhaWxzPzogVCkge1xyXG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcnNbZXZlbnRdLmZvckVhY2goKHN1YnNjcmliZXIpID0+IHN1YnNjcmliZXIoZGV0YWlscykpO1xyXG4gICAgfVxyXG59XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQge0VsZW1lbnRzTGlzdH0gZnJvbSAnLi9jb21wb25lbnRzL0VsZW1lbnRzTGlzdCc7XHJcbmltcG9ydCB7Rm9ybX0gZnJvbSAnLi9jb21wb25lbnRzL0Zvcm0nO1xyXG5pbXBvcnQge1dlaWdodGVkR3JhcGhJdGVtfSBmcm9tICcuL2dyYXBoLWxpYi9DaXRpZXNHcmFwaCc7XHJcbmltcG9ydCAnLi9pbmRleC5jc3MnO1xyXG5pbXBvcnQge1Jlc3VsdHN9IGZyb20gJy4vY29tcG9uZW50cy9SZXN1bHRzJztcclxuaW1wb3J0IHtXZWlnaHRlZEdyYXBoVmFsaWRhdG9yfSBmcm9tICcuL2NvbXBvbmVudHMvZm9ybVZhbGlkYXRvcic7XHJcblxyXG5jb25zdCBmb3JtID0gbmV3IEZvcm0oKTtcclxuY29uc3Qgc3RhdGU6IFdlaWdodGVkR3JhcGhJdGVtW10gPSBbXTtcclxuY29uc3QgdmFsaWRhdG9yID0gbmV3IFdlaWdodGVkR3JhcGhWYWxpZGF0b3IoKTtcclxuXHJcbmZvcm0uaW5pdCgpO1xyXG5mb3JtLnN1YnNjcmliZSgnYWRkZWQnLCAocm91dGU6IFdlaWdodGVkR3JhcGhJdGVtKSA9PiB7XHJcbiAgICBpZiAodmFsaWRhdG9yLmlzVmFsaWQocm91dGUsIHN0YXRlKSkge1xyXG4gICAgICAgIHN0YXRlLnB1c2gocm91dGUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBhbGVydCgndmFsdWUgbm90IHZhbGlkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbGlzdCA9IG5ldyBFbGVtZW50c0xpc3Qoc3RhdGUpO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKT8uYXBwZW5kKGxpc3QuZ2V0RWxlbWVudCgpKTtcclxuXHJcbiAgICBsaXN0LnN1YnNjcmliZSgnc3VibWl0dGVkJywgKGNpdHk6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBuZXcgUmVzdWx0cyhjaXR5LCBzdGF0ZSk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290Jyk/LmFwcGVuZChyZXN1bHRzLmdldEVsZW1lbnQoKSk7XHJcbiAgICB9KTtcclxufSk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=